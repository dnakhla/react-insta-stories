!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("Stories",["React"],t):"object"==typeof exports?exports.Stories=t(require("react")):e.Stories=t(e.React)}(this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/index.js",n(n.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)).default.createContext({stories:[],defaultInterval:4e3,width:360,height:640});t.default=o},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0));t.default=o.default.createContext({numArray:[],currentId:0,count:0,currentStory:{url:""},videoDuration:0,bufferAction:!1,pause:!1})},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),a=o(n(4)),s=o(n(1)),u=function(e){i.useEffect(()=>{e.stories.forEach((e,t)=>{let n=[];const r="object"!=typeof e||!e.url||"image"!==e.type&&e.type?"string"==typeof e?e:null:e.url;r&&(n[t]=new Image,n[t].src=r)})},[e.stories]);let t={stories:e.stories.map(e=>"string"==typeof e?{url:e}:e),width:e.width,height:e.height,loader:e.loader,header:e.header,storyStyles:e.storyStyles,loop:e.loop,defaultInterval:e.defaultInterval,isPaused:e.isPaused,currentIndex:e.currentIndex,onStoryStart:e.onStoryStart,onStoryEnd:e.onStoryEnd,onAllStoriesEnd:e.onAllStoriesEnd};return i.default.createElement(s.default.Provider,{value:t},i.default.createElement(a.default,null))};u.defaultProps={width:360,height:640,defaultInterval:4e3},t.default=u},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),a=o(n(1)),s=o(n(2)),u=o(n(5)),l=o(n(12));t.default=function(){const[e,t]=i.useState(0),[n,r]=i.useState(!0),[o,d]=i.useState(0),[f,p]=i.useState(!0),[h,y]=i.useState(0);let m=i.useRef(),g=i.useRef();const{width:v,height:b,defaultInterval:_,stories:x,loop:w,currentIndex:E,isPaused:S,onStoryStart:j,onStoryEnd:M,onAllStoriesEnd:I}=i.useContext(a.default);i.useEffect(()=>(n||(g.current=requestAnimationFrame(O)),()=>{cancelAnimationFrame(g.current)}),[e,n]),i.useEffect(()=>{d(0)},[e,x]),i.useEffect(()=>{"number"==typeof E&&(E>=0&&E<x.length?t(E):console.error("Index out of bounds. Current index was set to value more than the length of stories array.",E))},[E]),i.useEffect(()=>{"boolean"==typeof S&&r(S)},[S]);const O=()=>{d(t=>{0===t&&C();const n=k();return t<100?g.current=requestAnimationFrame(O):(e===x.length-1&&P(),A()),t+100/(n/1e3*60)})},C=()=>{j&&j(e,x[e])},P=()=>{I&&I()},k=()=>"video"===x[e].type?h:"number"==typeof x[e].duration?x[e].duration:_,T=(e,t)=>{r("pause"===e),p(!!t)},A=()=>{let t=!M||M(e,x[e]);w?D():t&&z()},D=()=>{t((e+1)%x.length),d(0)},z=()=>{e<x.length-1&&(t(e+1),d(0))},R=e=>{e.preventDefault(),m.current=setTimeout(()=>{T("pause")},200)},L=(r,o)=>{r.preventDefault(),m.current&&clearTimeout(m.current),n?T("play"):"next"===o?A():e>0&&(t(e-1),d(0))};return i.default.createElement("div",{style:Object.assign(Object.assign({},c.container),{width:v,height:b})},i.default.createElement(s.default.Provider,{value:{bufferAction:f,videoDuration:h,numArray:x.map((e,t)=>t),currentStory:x[e],currentId:e,count:o,pause:n}},i.default.createElement(l.default,null)),i.default.createElement(u.default,{action:T,bufferAction:f,playState:n,story:x[e],getVideoDuration:e=>{y(1e3*e)}}),i.default.createElement("div",{style:c.overlay},i.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:R,onTouchEnd:e=>L(e,"previous"),onMouseDown:R,onMouseUp:e=>L(e,"previous")}),i.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:R,onTouchEnd:e=>L(e,"next"),onMouseDown:R,onMouseUp:e=>L(e,"next")})))};const c={container:{display:"flex",flexDirection:"column",background:"#111",position:"relative"},overlay:{position:"absolute",height:"inherit",width:"inherit",display:"flex"}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),a=o(n(6)),s=o(n(7)),u=o(n(8)),l=o(n(1)),c={story:{display:"flex",position:"relative",overflow:"hidden"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.default=e=>{const[t,n]=i.useState(!1),[r,o]=i.useState(!1),{width:d,height:f,loader:p,header:h,storyStyles:y}=i.useContext(l.default);i.useEffect(()=>{o(!1),"object"==typeof e.story&&e.story.content?(n(!0),e.action("play",!0)):(n(!1),e.action("pause",!0),m.current&&m.current.addEventListener("waiting",()=>{e.action("pause",!0)}),m.current&&m.current.addEventListener("playing",()=>{e.action("play",!0)}))},[e.story]);let m=i.useRef(null);i.useEffect(()=>{m.current&&(e.playState?m.current.pause():m.current.play().catch(e=>console.log(e)))},[e.playState]);const g=()=>{try{n(!0),e.action("play",!0)}catch(e){console.log(e)}},v=()=>{try{e.getVideoDuration(m.current.duration),m.current&&m.current.play().then(()=>{g()}).catch(t=>{e.action("pause"),console.log(t)})}catch(e){console.log(e)}};let b="object"==typeof e.story&&e.story.header;return i.default.createElement("div",{style:Object.assign(Object.assign({},c.story),{width:d,height:f})},(()=>{let t="object"==typeof e.story&&e.story.content;if(t)return i.default.createElement(t,{action:e.action,isPaused:e.playState});{let t="object"==typeof e.story?e.story.url:e.story,n="object"==typeof e.story&&e.story.styles||y||c.storyContent,r="object"==typeof e.story&&"video"===e.story.type?"video":"image";return"image"===r?i.default.createElement("img",{style:n,src:t,onLoad:g}):"video"===r?i.default.createElement("video",{ref:m,style:n,src:t,controls:!1,onLoadedData:v,autoPlay:!0,playsInline:!0}):null}})(),b&&i.default.createElement("div",{style:{position:"absolute",left:12,top:20,zIndex:19}},"object"==typeof e.story?h?h(e.story.header):i.default.createElement(a.default,{heading:e.story.header.heading,subheading:e.story.header.subheading,profileImage:e.story.header.profileImage}):null),!t&&i.default.createElement("div",{style:{width:d,height:f,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},p||i.default.createElement("div",{className:u.default.spinner})),"object"==typeof e.story&&e.story.seeMore&&i.default.createElement("div",{style:{position:"absolute",margin:"auto",bottom:r?"unset":0,zIndex:9999,width:"100%",height:r?"100%":"auto"}},i.default.createElement(s.default,{action:e.action,toggleMore:t=>{o(t),e.action(t?"pause":"play")},showContent:r,seeMoreContent:e.story.seeMore})))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),i={main:{display:"flex",alignItems:"center"},img:{width:40,height:40,borderRadius:40,marginRight:10,filter:"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))",border:"2px solid rgba(255, 255, 255, 0.8)"},text:{display:"flex",flexDirection:"column",filter:"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))"},heading:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",margin:0,marginBottom:2},subheading:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.8)",margin:0}};t.default=({profileImage:e,heading:t,subheading:n})=>o.default.createElement("div",{style:i.main},e&&o.default.createElement("img",{style:i.img,src:e}),o.default.createElement("span",{style:i.text},o.default.createElement("p",{style:i.heading},t),o.default.createElement("p",{style:i.subheading},n)))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0));t.default=function(e){const t=e.seeMoreContent;return e.showContent?o.default.createElement("div",{style:i.seeMoreExpanded},o.default.createElement(t,{close:()=>e.toggleMore(!1)})):o.default.createElement("div",{onClick:()=>{e.toggleMore(!0)},style:i.seeMore},o.default.createElement("span",{style:i.seeMoreIcon},"âŒƒ"),o.default.createElement("span",{style:i.seeMoreText},"See more"))};const i={seeMore:{height:"10vh",background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))",display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"flex-end",bottom:0},seeMoreExpanded:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",zIndex:99999},seeMoreText:{color:"white",textAlign:"center",letterSpacing:"0.1em",marginBottom:"2.2vh",textTransform:"capitalize",opacity:"1",fontSize:"0.8em",transition:"opacity 300ms ease-in-out"},seeMoreIcon:{color:"white",textAlign:"center",letterSpacing:"0.2em",marginBottom:"0.4vh",opacity:"1",filter:"drop-shadow(0 0 5px black)",textTransform:"capitalize",transition:"opacity 300ms ease-in-out"},seeMoreClose:{position:"absolute",filter:"drop-shadow(0 3px 2px #ccc)",right:"0.5rem",top:"0.5rem",fontSize:"1.5rem",opacity:"0.7",padding:"1rem"}}},function(e,t,n){var r=n(9),o=n(10);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],u=t.base?i[0]+t.base:i[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var d=s(c),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:c,updater:m(f,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,y=0;function m(e,t){var n,r,o;if(t.singleton){var i=y++;n=h||(h=l(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=l(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=u(e,t),l=0;l<n.length;l++){var c=s(n[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=i}}}},function(e,t,n){(t=n(11)(!1)).push([e.i,"._1CK7FHVwhiOnuCiZJwiPq1 {\n\twidth: 40px;\n\theight: 40px;\n\tmargin: 100px auto;\n\tbackground-color: #fff;\n\n\tborder-radius: 100%;\n\t-webkit-animation: _1hEQ2VzIkTiZ-9jZoLI3JC 1s infinite ease-in-out;\n\tanimation: _1hEQ2VzIkTiZ-9jZoLI3JC 1s infinite ease-in-out;\n}\n\n@-webkit-keyframes _1hEQ2VzIkTiZ-9jZoLI3JC {\n\t0% {\n\t\t-webkit-transform: scale(0);\n\t}\n\t100% {\n\t\t-webkit-transform: scale(1);\n\t\topacity: 0;\n\t}\n}\n\n@keyframes _1hEQ2VzIkTiZ-9jZoLI3JC {\n\t0% {\n\t\t-webkit-transform: scale(0);\n\t\ttransform: scale(0);\n\t}\n\t100% {\n\t\t-webkit-transform: scale(1);\n\t\ttransform: scale(1);\n\t\topacity: 0;\n\t}\n}\n",""]),t.locals={spinner:"_1CK7FHVwhiOnuCiZJwiPq1","sk-scaleout":"_1hEQ2VzIkTiZ-9jZoLI3JC"},e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),a=o(n(13)),s=o(n(2));t.default=()=>{const{numArray:e,currentId:t}=i.useContext(s.default);return i.default.createElement("div",{style:u.progressArr},e.map(n=>i.default.createElement(a.default,{key:n,width:1/e.length,active:n===t?1:n<t?2:0})))};const u={progressArr:{display:"flex",justifyContent:"center",maxWidth:"100%",flexWrap:"row",position:"absolute",width:"98%",padding:5,paddingTop:7,alignSelf:"center",zIndex:99,filter:"drop-shadow(0 1px 8px #222)"}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),a=o(n(14)),s=o(n(2));t.default=e=>{const{bufferAction:t,count:n,pause:r}=i.useContext(s.default),{width:o,active:l}=e;return i.default.createElement(a.default,{width:o,pause:r,bufferAction:t},i.default.createElement("div",{style:Object.assign(Object.assign({},(({active:e})=>{switch(e){case 2:return{width:"100%"};case 1:return{transform:`scaleX(${n/100})`};case 0:default:return{width:0}}})({active:l})),u.inner)}))};const u={inner:{background:"#fff",height:"100%",maxWidth:"100%",borderRadius:2,transformOrigin:"center left",WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",msBackfaceVisibility:"hidden",backfaceVisibility:"hidden",WebkitPerspective:1e3,MozPerspective:1e3,msPerspective:1e3,perspective:1e3}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),i=({width:e,pause:t,bufferAction:n})=>({width:`${100*e}%`,opacity:t&&!n?0:1}),a={progress:{height:2,maxWidth:"100%",background:"#555",margin:2,borderRadius:2,transition:"opacity 400ms ease-in-out"}};t.default=e=>o.default.createElement("div",{style:Object.assign(Object.assign({},a.progress),i(e))},e.children)}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1N0b3JpZXMvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInJlYWN0XCIsXCJjb21tb25qczJcIjpcInJlYWN0XCIsXCJhbWRcIjpcIlJlYWN0XCIsXCJyb290XCI6XCJSZWFjdFwifSIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbnRleHQvR2xvYmFsLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbnRleHQvUHJvZ3Jlc3MudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvaW5kZXgudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Db250YWluZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9TdG9yeS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL0hlYWRlci50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1NlZU1vcmUudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvc3R5bGVzLmNzcz9iYmJmIiwid2VicGFjazovL1N0b3JpZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovL1N0b3JpZXMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Qcm9ncmVzc0FycmF5LnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbXBvbmVudHMvUHJvZ3Jlc3MudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Qcm9ncmVzc1dyYXBwZXIudHN4Il0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkdsb2JhbENvbnRleHQiLCJjcmVhdGVDb250ZXh0Iiwic3RvcmllcyIsImRlZmF1bHRJbnRlcnZhbCIsIndpZHRoIiwiaGVpZ2h0IiwibnVtQXJyYXkiLCJjdXJyZW50SWQiLCJjb3VudCIsImN1cnJlbnRTdG9yeSIsInVybCIsInZpZGVvRHVyYXRpb24iLCJidWZmZXJBY3Rpb24iLCJwYXVzZSIsIlJlYWN0SW5zdGFTdG9yaWVzIiwicHJvcHMiLCJ1c2VFZmZlY3QiLCJmb3JFYWNoIiwiaW1hZ2VzIiwidHlwZSIsIkltYWdlIiwic3JjIiwiY29udGV4dCIsIm1hcCIsImxvYWRlciIsImhlYWRlciIsInN0b3J5U3R5bGVzIiwibG9vcCIsImlzUGF1c2VkIiwiY3VycmVudEluZGV4Iiwib25TdG9yeVN0YXJ0Iiwib25TdG9yeUVuZCIsIm9uQWxsU3Rvcmllc0VuZCIsIlByb3ZpZGVyIiwiZGVmYXVsdFByb3BzIiwic2V0Q3VycmVudElkIiwidXNlU3RhdGUiLCJzZXRQYXVzZSIsInNldENvdW50Iiwic2V0QnVmZmVyQWN0aW9uIiwic2V0VmlkZW9EdXJhdGlvbiIsIm1vdXNlZG93bklkIiwidXNlUmVmIiwiYW5pbWF0aW9uRnJhbWVJZCIsInVzZUNvbnRleHQiLCJjdXJyZW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaW5jcmVtZW50Q291bnQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImxlbmd0aCIsImNvbnNvbGUiLCJlcnJvciIsInN0b3J5U3RhcnRDYWxsYmFjayIsImludGVydmFsIiwiZ2V0Q3VycmVudEludGVydmFsIiwiYWxsU3Rvcmllc0VuZENhbGxiYWNrIiwibmV4dCIsImR1cmF0aW9uIiwidG9nZ2xlU3RhdGUiLCJhY3Rpb24iLCJjYWxsYmFja092ZXJyaWRlIiwidXBkYXRlTmV4dFN0b3J5SWRGb3JMb29wIiwidXBkYXRlTmV4dFN0b3J5SWQiLCJkZWJvdW5jZVBhdXNlIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2V0VGltZW91dCIsIm1vdXNlVXAiLCJjbGVhclRpbWVvdXQiLCJzdHlsZSIsInN0eWxlcyIsImNvbnRhaW5lciIsIl8iLCJwbGF5U3RhdGUiLCJzdG9yeSIsImdldFZpZGVvRHVyYXRpb24iLCJvdmVybGF5IiwiekluZGV4Iiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaEVuZCIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJiYWNrZ3JvdW5kIiwicG9zaXRpb24iLCJvdmVyZmxvdyIsInN0b3J5Q29udGVudCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwibWFyZ2luIiwibG9hZGVkIiwic2V0TG9hZGVkIiwic2hvd01vcmUiLCJzZXRTaG93TW9yZSIsImNvbnRlbnQiLCJ2aWQiLCJhZGRFdmVudExpc3RlbmVyIiwicGxheSIsImNhdGNoIiwibG9nIiwiaW1hZ2VMb2FkZWQiLCJ2aWRlb0xvYWRlZCIsInRoZW4iLCJpc0hlYWRlciIsIklubmVyQ29udGVudCIsInNvdXJjZSIsInN0b3J5Q29udGVudFN0eWxlcyIsIm9uTG9hZCIsInJlZiIsImNvbnRyb2xzIiwib25Mb2FkZWREYXRhIiwiYXV0b1BsYXkiLCJwbGF5c0lubGluZSIsImdldFN0b3J5Q29udGVudCIsImxlZnQiLCJ0b3AiLCJoZWFkaW5nIiwic3ViaGVhZGluZyIsInByb2ZpbGVJbWFnZSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsImNvbG9yIiwiY2xhc3NOYW1lIiwic3Bpbm5lciIsInNlZU1vcmUiLCJib3R0b20iLCJ0b2dnbGVNb3JlIiwic2hvdyIsInNob3dDb250ZW50Iiwic2VlTW9yZUNvbnRlbnQiLCJtYWluIiwiaW1nIiwiYm9yZGVyUmFkaXVzIiwibWFyZ2luUmlnaHQiLCJmaWx0ZXIiLCJib3JkZXIiLCJ0ZXh0IiwiZm9udFNpemUiLCJtYXJnaW5Cb3R0b20iLCJTZWVNb3JlQ29udGVudCIsInNlZU1vcmVFeHBhbmRlZCIsImNsb3NlIiwib25DbGljayIsInNlZU1vcmVJY29uIiwic2VlTW9yZVRleHQiLCJib3hTaXppbmciLCJ0ZXh0QWxpZ24iLCJsZXR0ZXJTcGFjaW5nIiwidGV4dFRyYW5zZm9ybSIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwic2VlTW9yZUNsb3NlIiwicmlnaHQiLCJwYWRkaW5nIiwiYXBpIiwiZGVmYXVsdCIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb25jYXQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJwdXNoIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50Iiwiam9pbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJ0b1N0cmluZyIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4Iiwic3BsaWNlIiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIiwidXNlU291cmNlTWFwIiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJiYXNlNjQiLCJkYXRhIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwicHJvZ3Jlc3NBcnIiLCJhY3RpdmUiLCJmbGV4V3JhcCIsInBhZGRpbmdUb3AiLCJhbGlnblNlbGYiLCJ0cmFuc2Zvcm0iLCJnZXRQcm9ncmVzc1N0eWxlIiwiaW5uZXIiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJXZWJraXRCYWNrZmFjZVZpc2liaWxpdHkiLCJNb3pCYWNrZmFjZVZpc2liaWxpdHkiLCJtc0JhY2tmYWNlVmlzaWJpbGl0eSIsImJhY2tmYWNlVmlzaWJpbGl0eSIsIldlYmtpdFBlcnNwZWN0aXZlIiwiTW96UGVyc3BlY3RpdmUiLCJtc1BlcnNwZWN0aXZlIiwicGVyc3BlY3RpdmUiLCJnZXRQcm9ncmVzc1dyYXBwZXJTdHlsZSIsInByb2dyZXNzIiwiY2hpbGRyZW4iXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLFVBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxVQUFXLENBQUMsU0FBVUosR0FDSCxpQkFBWkMsUUFDZEEsUUFBaUIsUUFBSUQsRUFBUUcsUUFBUSxVQUVyQ0osRUFBYyxRQUFJQyxFQUFRRCxFQUFZLE9BUnhDLENBU0dPLE1BQU0sU0FBU0MsR0FDbEIsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVULFFBR25DLElBQUlDLEVBQVNNLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hYLFFBQVMsSUFVVixPQU5BWSxFQUFRSCxHQUFVSSxLQUFLWixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTUSxHQUcvRFAsRUFBT1UsR0FBSSxFQUdKVixFQUFPRCxRQTBEZixPQXJEQVEsRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNoQixFQUFTaUIsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFbkIsRUFBU2lCLElBQ2xDRyxPQUFPQyxlQUFlckIsRUFBU2lCLEVBQU0sQ0FBRUssWUFBWSxFQUFN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LEVBQ0QsTUFBTyxDQUFFNlAsVUFBVyxVQUFVelAsRUFBUSxRQUMxQyxLQUFLLEVBRUwsUUFDSSxNQUFPLENBQUVKLE1BQU8sS0FRSjhQLENBQWlCLENBQUVMLFlBQWN2TCxFQUFPNkwsV0FLcEUsTUFBTTdMLEVBQWMsQ0FDaEI2TCxNQUFPLENBQ0gvSyxXQUFZLE9BQ1ovRSxPQUFRLE9BQ1JtRixTQUFVLE9BQ1Y2QyxhQUFjLEVBQ2QrSCxnQkFBaUIsY0FFakJDLHlCQUEwQixTQUMxQkMsc0JBQXVCLFNBQ3ZCQyxxQkFBc0IsU0FDdEJDLG1CQUFvQixTQUVwQkMsa0JBQW1CLElBQ25CQyxlQUFnQixJQUNoQkMsY0FBZSxJQUNmQyxZQUFhLE8sa0tDOUNyQixnQkFTTUMsRUFBMEIsRUFBR3pRLFFBQU9TLFFBQU9ELG1CQUFqQixDQUM1QlIsTUFBTyxHQUFXLElBQVJBLEtBQ1ZrSixRQUFTekksSUFBVUQsRUFBZSxFQUFJLElBR3BDMEQsRUFBUyxDQUNYd00sU0FBVSxDQUNOelEsT0FBUSxFQUNSbUYsU0FBVSxPQUNWSixXQUFZLE9BQ1pNLE9BQVEsRUFDUjJDLGFBQWMsRUFDZGtCLFdBQVksOEJBSXBCLFVBdEJ5QnhJLEdBQ3JCLCtCQUFLc0QsTUFBSywrQkFBT0MsRUFBT3dNLFVBQWFELEVBQXdCOVAsS0FDeERBLEVBQU1nUSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiU3Rvcmllc1wiLCBbXCJSZWFjdFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJTdG9yaWVzXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlN0b3JpZXNcIl0gPSBmYWN0b3J5KHJvb3RbXCJSZWFjdFwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18wX18pIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0L2luZGV4LmpzXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEdsb2JhbEN0eCB9IGZyb20gJy4uL2ludGVyZmFjZXMnXG5cbmNvbnN0IEdsb2JhbENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PEdsb2JhbEN0eD4oe1xuICAgIHN0b3JpZXM6IFtdLFxuICAgIGRlZmF1bHRJbnRlcnZhbDogNDAwMCxcbiAgICB3aWR0aDogMzYwLFxuICAgIGhlaWdodDogNjQwXG59KVxuXG5leHBvcnQgZGVmYXVsdCBHbG9iYWxDb250ZXh0IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUHJvZ3Jlc3NDb250ZXh0IH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5jcmVhdGVDb250ZXh0PFByb2dyZXNzQ29udGV4dD4oe1xuICAgIG51bUFycmF5OiBbXSxcbiAgICBjdXJyZW50SWQ6IDAsXG4gICAgY291bnQ6IDAsXG4gICAgY3VycmVudFN0b3J5OiB7IHVybDogJycgfSxcbiAgICB2aWRlb0R1cmF0aW9uOiAwLFxuICAgIGJ1ZmZlckFjdGlvbjogZmFsc2UsXG4gICAgcGF1c2U6IGZhbHNlXG59KSIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFJlYWN0SW5zdGFTdG9yaWVzUHJvcHMsIEdsb2JhbEN0eCB9IGZyb20gJy4vaW50ZXJmYWNlcydcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi9jb21wb25lbnRzL0NvbnRhaW5lcidcbmltcG9ydCBHbG9iYWxDb250ZXh0IGZyb20gJy4vY29udGV4dC9HbG9iYWwnXG5cbmNvbnN0IFJlYWN0SW5zdGFTdG9yaWVzID0gZnVuY3Rpb24gKHByb3BzOiBSZWFjdEluc3RhU3Rvcmllc1Byb3BzKSB7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcHJvcHMuc3Rvcmllcy5mb3JFYWNoKChzLCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgaW1hZ2VzID0gW11cbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHR5cGVvZiBzID09PSAnb2JqZWN0JyAmJiBzLnVybCAmJiAocy50eXBlID09PSAnaW1hZ2UnIHx8ICFzLnR5cGUpID8gcy51cmwgOiAodHlwZW9mIHMgPT09ICdzdHJpbmcnID8gcyA6IG51bGwpXG4gICAgICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VzW2ldID0gbmV3IEltYWdlKClcbiAgICAgICAgICAgICAgICBpbWFnZXNbaV0uc3JjID0gdXJsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSwgW3Byb3BzLnN0b3JpZXNdKVxuXG4gICAgbGV0IGNvbnRleHQ6IEdsb2JhbEN0eCA9IHtcbiAgICAgICAgc3RvcmllczogcHJvcHMuc3Rvcmllcy5tYXAocyA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSByZXR1cm4geyB1cmw6IHMgfVxuICAgICAgICAgICAgZWxzZSByZXR1cm4gc1xuICAgICAgICB9KSxcbiAgICAgICAgd2lkdGg6IHByb3BzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHByb3BzLmhlaWdodCxcbiAgICAgICAgbG9hZGVyOiBwcm9wcy5sb2FkZXIsXG4gICAgICAgIGhlYWRlcjogcHJvcHMuaGVhZGVyLFxuICAgICAgICBzdG9yeVN0eWxlczogcHJvcHMuc3RvcnlTdHlsZXMsXG4gICAgICAgIGxvb3A6IHByb3BzLmxvb3AsXG4gICAgICAgIGRlZmF1bHRJbnRlcnZhbDogcHJvcHMuZGVmYXVsdEludGVydmFsLFxuICAgICAgICBpc1BhdXNlZDogcHJvcHMuaXNQYXVzZWQsXG4gICAgICAgIGN1cnJlbnRJbmRleDogcHJvcHMuY3VycmVudEluZGV4LFxuICAgICAgICBvblN0b3J5U3RhcnQ6IHByb3BzLm9uU3RvcnlTdGFydCxcbiAgICAgICAgb25TdG9yeUVuZDogcHJvcHMub25TdG9yeUVuZCxcbiAgICAgICAgb25BbGxTdG9yaWVzRW5kOiBwcm9wcy5vbkFsbFN0b3JpZXNFbmRcbiAgICB9XG4gICAgcmV0dXJuIDxHbG9iYWxDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT5cbiAgICAgICAgPENvbnRhaW5lciAvPlxuICAgIDwvR2xvYmFsQ29udGV4dC5Qcm92aWRlcj5cbn1cblxuUmVhY3RJbnN0YVN0b3JpZXMuZGVmYXVsdFByb3BzID0ge1xuICAgIHdpZHRoOiAzNjAsXG4gICAgaGVpZ2h0OiA2NDAsXG4gICAgZGVmYXVsdEludGVydmFsOiA0MDAwXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0SW5zdGFTdG9yaWVzIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEdsb2JhbENvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L0dsb2JhbCdcbmltcG9ydCBQcm9ncmVzc0NvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L1Byb2dyZXNzJ1xuaW1wb3J0IFN0b3J5IGZyb20gJy4vU3RvcnknXG5pbXBvcnQgUHJvZ3Jlc3NBcnJheSBmcm9tICcuL1Byb2dyZXNzQXJyYXknXG5pbXBvcnQgeyBHbG9iYWxDdHggfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBbY3VycmVudElkLCBzZXRDdXJyZW50SWRdID0gdXNlU3RhdGU8bnVtYmVyPigwKVxuICAgIGNvbnN0IFtwYXVzZSwgc2V0UGF1c2VdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSlcbiAgICBjb25zdCBbY291bnQsIHNldENvdW50XSA9IHVzZVN0YXRlPG51bWJlcj4oMClcbiAgICBjb25zdCBbYnVmZmVyQWN0aW9uLCBzZXRCdWZmZXJBY3Rpb25dID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSlcbiAgICBjb25zdCBbdmlkZW9EdXJhdGlvbiwgc2V0VmlkZW9EdXJhdGlvbl0gPSB1c2VTdGF0ZTxudW1iZXI+KDApXG5cbiAgICBsZXQgbW91c2Vkb3duSWQgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQ+KClcbiAgICBsZXQgYW5pbWF0aW9uRnJhbWVJZCA9IHVzZVJlZjxudW1iZXI+KClcblxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgZGVmYXVsdEludGVydmFsLCBzdG9yaWVzLCBsb29wLCBjdXJyZW50SW5kZXgsIGlzUGF1c2VkLCBvblN0b3J5U3RhcnQsIG9uU3RvcnlFbmQsIG9uQWxsU3Rvcmllc0VuZCB9ID0gdXNlQ29udGV4dDxHbG9iYWxDdHg+KEdsb2JhbENvbnRleHQpXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXBhdXNlKSB7XG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZUlkLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5jcmVtZW50Q291bnQpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudClcbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50SWQsIHBhdXNlXSlcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldENvdW50KDApXG4gICAgfSwgW2N1cnJlbnRJZCwgc3Rvcmllc10pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPj0gMCAmJiBjdXJyZW50SW5kZXggPCBzdG9yaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJZChjdXJyZW50SW5kZXgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0luZGV4IG91dCBvZiBib3VuZHMuIEN1cnJlbnQgaW5kZXggd2FzIHNldCB0byB2YWx1ZSBtb3JlIHRoYW4gdGhlIGxlbmd0aCBvZiBzdG9yaWVzIGFycmF5LicsIGN1cnJlbnRJbmRleClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50SW5kZXhdKVxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBpc1BhdXNlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBzZXRQYXVzZShpc1BhdXNlZClcbiAgICAgICAgfVxuICAgIH0sIFtpc1BhdXNlZF0pXG5cbiAgICBjb25zdCBpbmNyZW1lbnRDb3VudCA9ICgpID0+IHtcbiAgICAgICAgc2V0Q291bnQoKGNvdW50OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMCkgc3RvcnlTdGFydENhbGxiYWNrKClcbiAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gZ2V0Q3VycmVudEludGVydmFsKClcbiAgICAgICAgICAgIGlmIChjb3VudCA8IDEwMCkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShpbmNyZW1lbnRDb3VudClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJZCA9PT0gc3Rvcmllcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbFN0b3JpZXNFbmRDYWxsYmFjaygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5leHQoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvdW50ICsgKDEwMCAvICgoaW50ZXJ2YWwgLyAxMDAwKSAqIDYwKSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBzdG9yeVN0YXJ0Q2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgIG9uU3RvcnlTdGFydCAmJiBvblN0b3J5U3RhcnQoY3VycmVudElkLCBzdG9yaWVzW2N1cnJlbnRJZF0pXG4gICAgfVxuXG4gICAgY29uc3Qgc3RvcnlFbmRDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIG9uU3RvcnlFbmQgPyBvblN0b3J5RW5kKGN1cnJlbnRJZCwgc3Rvcmllc1tjdXJyZW50SWRdKSA6dHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBhbGxTdG9yaWVzRW5kQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgIG9uQWxsU3Rvcmllc0VuZCAmJiBvbkFsbFN0b3JpZXNFbmQoKVxuICAgIH1cblxuICAgIGNvbnN0IGdldEN1cnJlbnRJbnRlcnZhbCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHN0b3JpZXNbY3VycmVudElkXS50eXBlID09PSAndmlkZW8nKSByZXR1cm4gdmlkZW9EdXJhdGlvblxuICAgICAgICBpZiAodHlwZW9mIHN0b3JpZXNbY3VycmVudElkXS5kdXJhdGlvbiA9PT0gJ251bWJlcicpIHJldHVybiBzdG9yaWVzW2N1cnJlbnRJZF0uZHVyYXRpb25cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRJbnRlcnZhbFxuICAgIH1cblxuICAgIGNvbnN0IHRvZ2dsZVN0YXRlID0gKGFjdGlvbjogc3RyaW5nLCBidWZmZXJBY3Rpb24/OiBib29sZWFuKSA9PiB7XG4gICAgICAgIHNldFBhdXNlKGFjdGlvbiA9PT0gJ3BhdXNlJylcbiAgICAgICAgc2V0QnVmZmVyQWN0aW9uKCEhYnVmZmVyQWN0aW9uKVxuICAgIH1cblxuICAgIGNvbnN0IHByZXZpb3VzID0gKCkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudElkID4gMCkge1xuICAgICAgICAgICAgc2V0Q3VycmVudElkKGN1cnJlbnRJZCAtIDEpXG4gICAgICAgICAgICBzZXRDb3VudCgwKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbmV4dCA9ICgpID0+IHtcbiAgICAgICAgbGV0IGNhbGxiYWNrT3ZlcnJpZGUgPSBzdG9yeUVuZENhbGxiYWNrKClcbiAgICAgICAgaWYgKGxvb3ApIHtcbiAgICAgICAgICAgIHVwZGF0ZU5leHRTdG9yeUlkRm9yTG9vcCgpXG4gICAgICAgIH0gZWxzZSBpZihjYWxsYmFja092ZXJyaWRlKSB7XG4gICAgICAgICAgICB1cGRhdGVOZXh0U3RvcnlJZCgpXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlTmV4dFN0b3J5SWRGb3JMb29wID0gKCkgPT4ge1xuICAgICAgICBzZXRDdXJyZW50SWQoKGN1cnJlbnRJZCArIDEpICUgc3Rvcmllcy5sZW5ndGgpXG4gICAgICAgIHNldENvdW50KDApXG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlTmV4dFN0b3J5SWQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50SWQgPCBzdG9yaWVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRJZChjdXJyZW50SWQgKyAxKVxuICAgICAgICAgICAgc2V0Q291bnQoMClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGRlYm91bmNlUGF1c2UgPSAoZTogUmVhY3QuTW91c2VFdmVudCB8IFJlYWN0LlRvdWNoRXZlbnQpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIG1vdXNlZG93bklkLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZVN0YXRlKCdwYXVzZScpXG4gICAgICAgIH0sIDIwMClcbiAgICB9XG5cbiAgICBjb25zdCBtb3VzZVVwID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQgfCBSZWFjdC5Ub3VjaEV2ZW50LCB0eXBlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIG1vdXNlZG93bklkLmN1cnJlbnQgJiYgY2xlYXJUaW1lb3V0KG1vdXNlZG93bklkLmN1cnJlbnQpXG4gICAgICAgIGlmIChwYXVzZSkge1xuICAgICAgICAgICAgdG9nZ2xlU3RhdGUoJ3BsYXknKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9PT0gJ25leHQnID8gbmV4dCgpIDogcHJldmlvdXMoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0VmlkZW9EdXJhdGlvbiA9IChkdXJhdGlvbjogbnVtYmVyKSA9PiB7XG4gICAgICAgIHNldFZpZGVvRHVyYXRpb24oZHVyYXRpb24gKiAxMDAwKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uc3R5bGVzLmNvbnRhaW5lciwgLi4ueyB3aWR0aCwgaGVpZ2h0IH0gfX0+XG4gICAgICAgICAgICA8UHJvZ3Jlc3NDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7XG4gICAgICAgICAgICAgICAgYnVmZmVyQWN0aW9uOiBidWZmZXJBY3Rpb24sXG4gICAgICAgICAgICAgICAgdmlkZW9EdXJhdGlvbjogdmlkZW9EdXJhdGlvbixcbiAgICAgICAgICAgICAgICBudW1BcnJheTogc3Rvcmllcy5tYXAoKF8sIGkpID0+IGkpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTdG9yeTogc3Rvcmllc1tjdXJyZW50SWRdLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRJZCxcbiAgICAgICAgICAgICAgICBjb3VudCxcbiAgICAgICAgICAgICAgICBwYXVzZVxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPFByb2dyZXNzQXJyYXkgLz5cbiAgICAgICAgICAgIDwvUHJvZ3Jlc3NDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgICAgPFN0b3J5XG4gICAgICAgICAgICAgICAgYWN0aW9uPXt0b2dnbGVTdGF0ZX1cbiAgICAgICAgICAgICAgICBidWZmZXJBY3Rpb249e2J1ZmZlckFjdGlvbn1cbiAgICAgICAgICAgICAgICBwbGF5U3RhdGU9e3BhdXNlfVxuICAgICAgICAgICAgICAgIHN0b3J5PXtzdG9yaWVzW2N1cnJlbnRJZF19XG4gICAgICAgICAgICAgICAgZ2V0VmlkZW9EdXJhdGlvbj17Z2V0VmlkZW9EdXJhdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMub3ZlcmxheX0+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzUwJScsIHpJbmRleDogOTk5IH19IG9uVG91Y2hTdGFydD17ZGVib3VuY2VQYXVzZX0gb25Ub3VjaEVuZD17ZSA9PiBtb3VzZVVwKGUsICdwcmV2aW91cycpfSBvbk1vdXNlRG93bj17ZGVib3VuY2VQYXVzZX0gb25Nb3VzZVVwPXsoZSkgPT4gbW91c2VVcChlLCAncHJldmlvdXMnKX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiAnNTAlJywgekluZGV4OiA5OTkgfX0gb25Ub3VjaFN0YXJ0PXtkZWJvdW5jZVBhdXNlfSBvblRvdWNoRW5kPXtlID0+IG1vdXNlVXAoZSwgJ25leHQnKX0gb25Nb3VzZURvd249e2RlYm91bmNlUGF1c2V9IG9uTW91c2VVcD17KGUpID0+IG1vdXNlVXAoZSwgJ25leHQnKX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBjb250YWluZXI6IHtcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgYmFja2dyb3VuZDogJyMxMTEnLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH0sXG4gICAgb3ZlcmxheToge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgaGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgICAgIHdpZHRoOiAnaW5oZXJpdCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4J1xuICAgIH1cbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFN0b3J5UHJvcHMsIEdsb2JhbEN0eCB9IGZyb20gXCIuLy4uL2ludGVyZmFjZXNcIjtcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vSGVhZGVyXCI7XG5pbXBvcnQgU2VlTW9yZSBmcm9tIFwiLi9TZWVNb3JlXCI7XG5pbXBvcnQgZ2xvYmFsU3R5bGUgZnJvbSAnLi8uLi9zdHlsZXMuY3NzJ1xuaW1wb3J0IEdsb2JhbENvbnRleHQgZnJvbSBcIi4vLi4vY29udGV4dC9HbG9iYWxcIjtcblxuY29uc3QgU3RvcnkgPSAocHJvcHM6IFN0b3J5UHJvcHMpID0+IHtcblx0Y29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcblx0Y29uc3QgW3Nob3dNb3JlLCBzZXRTaG93TW9yZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cblx0Y29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBsb2FkZXIsIGhlYWRlciwgc3RvcnlTdHlsZXMgfSA9IHVzZUNvbnRleHQ8R2xvYmFsQ3R4Pihcblx0XHRHbG9iYWxDb250ZXh0XG5cdCk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRzZXRTaG93TW9yZShmYWxzZSlcblx0XHRpZiAodHlwZW9mIHByb3BzLnN0b3J5ID09PSAnb2JqZWN0JyAmJiBwcm9wcy5zdG9yeS5jb250ZW50KSB7XG5cdFx0XHRzZXRMb2FkZWQodHJ1ZSlcblx0XHRcdHByb3BzLmFjdGlvbigncGxheScsIHRydWUpXG5cdFx0fSBlbHNlIHtcblx0XHRcdHNldExvYWRlZChmYWxzZSlcblx0XHRcdHByb3BzLmFjdGlvbihcInBhdXNlXCIsIHRydWUpO1xuXHRcdFx0dmlkLmN1cnJlbnQgJiZcblx0XHRcdFx0dmlkLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndhaXRpbmdcIiwgKCkgPT4ge1xuXHRcdFx0XHRcdHByb3BzLmFjdGlvbihcInBhdXNlXCIsIHRydWUpO1xuXHRcdFx0XHR9KTtcblx0XHRcdHZpZC5jdXJyZW50ICYmXG5cdFx0XHRcdHZpZC5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsICgpID0+IHtcblx0XHRcdFx0XHRwcm9wcy5hY3Rpb24oXCJwbGF5XCIsIHRydWUpO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cdH0sIFtwcm9wcy5zdG9yeV0pO1xuXG5cdGxldCB2aWQgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpZiAodmlkLmN1cnJlbnQpIHtcblx0XHRcdGlmIChwcm9wcy5wbGF5U3RhdGUpIHtcblx0XHRcdFx0dmlkLmN1cnJlbnQucGF1c2UoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZpZC5jdXJyZW50LnBsYXkoKS5jYXRjaChlID0+IGNvbnNvbGUubG9nKGUpKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIFtwcm9wcy5wbGF5U3RhdGVdKTtcblxuXHRjb25zdCB0b2dnbGVNb3JlID0gKHNob3c6IGJvb2xlYW4pID0+IHtcblx0XHRzZXRTaG93TW9yZShzaG93KVxuXHRcdHByb3BzLmFjdGlvbihzaG93ID8gJ3BhdXNlJyA6ICdwbGF5Jylcblx0fTtcblxuXHRjb25zdCBpbWFnZUxvYWRlZCA9ICgpID0+IHtcblx0XHR0cnkge1xuXHRcdFx0c2V0TG9hZGVkKHRydWUpO1xuXHRcdFx0cHJvcHMuYWN0aW9uKFwicGxheVwiLCB0cnVlKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgdmlkZW9Mb2FkZWQgPSAoKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdHByb3BzLmdldFZpZGVvRHVyYXRpb24odmlkLmN1cnJlbnQuZHVyYXRpb24pO1xuXHRcdFx0dmlkLmN1cnJlbnQgJiZcblx0XHRcdFx0dmlkLmN1cnJlbnRcblx0XHRcdFx0XHQucGxheSgpXG5cdFx0XHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdFx0aW1hZ2VMb2FkZWQoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5jYXRjaChlID0+IHtcblx0XHRcdFx0XHRcdHByb3BzLmFjdGlvbihcInBhdXNlXCIpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IGdldFN0b3J5Q29udGVudCA9ICgpID0+IHtcblx0XHRsZXQgSW5uZXJDb250ZW50ID0gdHlwZW9mIHByb3BzLnN0b3J5ID09PSBcIm9iamVjdFwiICYmIHByb3BzLnN0b3J5LmNvbnRlbnRcblx0XHRpZiAoSW5uZXJDb250ZW50KSB7XG5cdFx0XHRyZXR1cm4gPElubmVyQ29udGVudCBhY3Rpb249e3Byb3BzLmFjdGlvbn0gaXNQYXVzZWQ9e3Byb3BzLnBsYXlTdGF0ZX0gLz5cblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IHNvdXJjZSA9XG5cdFx0XHRcdHR5cGVvZiBwcm9wcy5zdG9yeSA9PT0gXCJvYmplY3RcIiA/IHByb3BzLnN0b3J5LnVybCA6IHByb3BzLnN0b3J5O1xuXHRcdFx0bGV0IHN0b3J5Q29udGVudFN0eWxlcyA9XG5cdFx0XHRcdCh0eXBlb2YgcHJvcHMuc3RvcnkgPT09IFwib2JqZWN0XCIgJiYgcHJvcHMuc3Rvcnkuc3R5bGVzKSB8fFxuXHRcdFx0XHRzdG9yeVN0eWxlcyB8fFxuXHRcdFx0XHRzdHlsZXMuc3RvcnlDb250ZW50O1xuXHRcdFx0bGV0IHR5cGUgPVxuXHRcdFx0XHR0eXBlb2YgcHJvcHMuc3RvcnkgPT09IFwib2JqZWN0XCIgJiYgcHJvcHMuc3RvcnkudHlwZSA9PT0gXCJ2aWRlb1wiXG5cdFx0XHRcdFx0PyBcInZpZGVvXCJcblx0XHRcdFx0XHQ6IFwiaW1hZ2VcIjtcblx0XHRcdHJldHVybiB0eXBlID09PSBcImltYWdlXCIgPyAoXG5cdFx0XHRcdDxpbWcgc3R5bGU9e3N0b3J5Q29udGVudFN0eWxlc30gc3JjPXtzb3VyY2V9IG9uTG9hZD17aW1hZ2VMb2FkZWR9IC8+XG5cdFx0XHQpIDogdHlwZSA9PT0gXCJ2aWRlb1wiID8gKFxuXHRcdFx0XHQ8dmlkZW9cblx0XHRcdFx0XHRyZWY9e3ZpZH1cblx0XHRcdFx0XHRzdHlsZT17c3RvcnlDb250ZW50U3R5bGVzfVxuXHRcdFx0XHRcdHNyYz17c291cmNlfVxuXHRcdFx0XHRcdGNvbnRyb2xzPXtmYWxzZX1cblx0XHRcdFx0XHRvbkxvYWRlZERhdGE9e3ZpZGVvTG9hZGVkfVxuXHRcdFx0XHRcdGF1dG9QbGF5XG5cdFx0XHRcdFx0cGxheXNJbmxpbmVcblx0XHRcdFx0Lz5cblx0XHRcdCkgOiBudWxsO1xuXHRcdH1cblx0fTtcblxuXHRsZXQgaXNIZWFkZXIgPSB0eXBlb2YgcHJvcHMuc3RvcnkgPT09IFwib2JqZWN0XCIgJiYgcHJvcHMuc3RvcnkuaGVhZGVyO1xuXHRyZXR1cm4gKFxuXHRcdDxkaXYgc3R5bGU9e3sgLi4uc3R5bGVzLnN0b3J5LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH19PlxuXHRcdFx0e2dldFN0b3J5Q29udGVudCgpfVxuXHRcdFx0e2lzSGVhZGVyICYmIChcblx0XHRcdFx0PGRpdiBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCBsZWZ0OiAxMiwgdG9wOiAyMCwgekluZGV4OiAxOSB9fT5cblx0XHRcdFx0XHR7dHlwZW9mIHByb3BzLnN0b3J5ID09PSBcIm9iamVjdFwiID8gKFxuXHRcdFx0XHRcdFx0aGVhZGVyID8gKFxuXHRcdFx0XHRcdFx0XHRoZWFkZXIocHJvcHMuc3RvcnkuaGVhZGVyKVxuXHRcdFx0XHRcdFx0KSA6IChcblx0XHRcdFx0XHRcdFx0XHQ8SGVhZGVyXG5cdFx0XHRcdFx0XHRcdFx0XHRoZWFkaW5nPXtwcm9wcy5zdG9yeS5oZWFkZXIuaGVhZGluZ31cblx0XHRcdFx0XHRcdFx0XHRcdHN1YmhlYWRpbmc9e3Byb3BzLnN0b3J5LmhlYWRlci5zdWJoZWFkaW5nfVxuXHRcdFx0XHRcdFx0XHRcdFx0cHJvZmlsZUltYWdlPXtwcm9wcy5zdG9yeS5oZWFkZXIucHJvZmlsZUltYWdlfVxuXHRcdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpIDogbnVsbH1cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQpfVxuXHRcdFx0eyFsb2FkZWQgJiYgKFxuXHRcdFx0XHQ8ZGl2XG5cdFx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHRcdHdpZHRoOiB3aWR0aCxcblx0XHRcdFx0XHRcdGhlaWdodDogaGVpZ2h0LFxuXHRcdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBcInJnYmEoMCwgMCwgMCwgMC45KVwiLFxuXHRcdFx0XHRcdFx0ekluZGV4OiA5LFxuXHRcdFx0XHRcdFx0ZGlzcGxheTogXCJmbGV4XCIsXG5cdFx0XHRcdFx0XHRqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcblx0XHRcdFx0XHRcdGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG5cdFx0XHRcdFx0XHRjb2xvcjogXCIjY2NjXCJcblx0XHRcdFx0XHR9fVxuXHRcdFx0XHQ+XG5cdFx0XHRcdFx0e2xvYWRlciB8fCA8ZGl2IGNsYXNzTmFtZT17Z2xvYmFsU3R5bGUuc3Bpbm5lcn0gLz59XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0KX1cblx0XHRcdHt0eXBlb2YgcHJvcHMuc3RvcnkgPT09IFwib2JqZWN0XCIgJiYgcHJvcHMuc3Rvcnkuc2VlTW9yZSAmJiAoXG5cdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRzdHlsZT17e1xuXHRcdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHRcdG1hcmdpbjogXCJhdXRvXCIsXG5cdFx0XHRcdFx0XHRib3R0b206IHNob3dNb3JlID8gJ3Vuc2V0JyA6IDAsXG5cdFx0XHRcdFx0XHR6SW5kZXg6IDk5OTksXG5cdFx0XHRcdFx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IHNob3dNb3JlID8gJzEwMCUnIDogJ2F1dG8nXG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0PlxuXHRcdFx0XHRcdDxTZWVNb3JlXG5cdFx0XHRcdFx0XHRhY3Rpb249e3Byb3BzLmFjdGlvbn1cblx0XHRcdFx0XHRcdHRvZ2dsZU1vcmU9e3RvZ2dsZU1vcmV9XG5cdFx0XHRcdFx0XHRzaG93Q29udGVudD17c2hvd01vcmV9XG5cdFx0XHRcdFx0XHRzZWVNb3JlQ29udGVudD17cHJvcHMuc3Rvcnkuc2VlTW9yZX1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdCl9XG5cdFx0PC9kaXY+XG5cdCk7XG59O1xuXG5jb25zdCBzdHlsZXMgPSB7XG5cdHN0b3J5OiB7XG5cdFx0ZGlzcGxheTogXCJmbGV4XCIsXG5cdFx0cG9zaXRpb246IFwicmVsYXRpdmVcIixcblx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIlxuXHR9LFxuXHRzdG9yeUNvbnRlbnQ6IHtcblx0XHR3aWR0aDogXCJhdXRvXCIsXG5cdFx0bWF4V2lkdGg6IFwiMTAwJVwiLFxuXHRcdG1heEhlaWdodDogXCIxMDAlXCIsXG5cdFx0bWFyZ2luOiBcImF1dG9cIlxuXHR9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTdG9yeTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEhlYWRlclByb3BzIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuXG5jb25zdCBIZWFkZXIgPSAoeyBwcm9maWxlSW1hZ2UsIGhlYWRpbmcsIHN1YmhlYWRpbmcgfTogSGVhZGVyUHJvcHMpID0+XG4gICAgPGRpdiBzdHlsZT17c3R5bGVzLm1haW59PlxuICAgICAgICB7cHJvZmlsZUltYWdlICYmIDxpbWcgc3R5bGU9e3N0eWxlcy5pbWd9IHNyYz17cHJvZmlsZUltYWdlfSAvPn1cbiAgICAgICAgPHNwYW4gc3R5bGU9e3N0eWxlcy50ZXh0fT5cbiAgICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuaGVhZGluZ30+e2hlYWRpbmd9PC9wPlxuICAgICAgICAgICAgPHAgc3R5bGU9e3N0eWxlcy5zdWJoZWFkaW5nfT57c3ViaGVhZGluZ308L3A+XG4gICAgICAgIDwvc3Bhbj5cbiAgICA8L2Rpdj5cblxuY29uc3Qgc3R5bGVzID0ge1xuICAgIG1haW46IHtcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgIH0sXG4gICAgaW1nOiB7XG4gICAgICAgIHdpZHRoOiA0MCxcbiAgICAgICAgaGVpZ2h0OiA0MCxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiA0MCxcbiAgICAgICAgbWFyZ2luUmlnaHQ6IDEwLFxuICAgICAgICBmaWx0ZXI6ICdkcm9wLXNoYWRvdygwIDBweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpKScsXG4gICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCknXG4gICAgfSxcbiAgICB0ZXh0OiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgIGZpbHRlcjogJ2Ryb3Atc2hhZG93KDAgMHB4IDNweCByZ2JhKDAsIDAsIDAsIDAuOSkpJ1xuICAgIH0sXG4gICAgaGVhZGluZzoge1xuICAgICAgICBmb250U2l6ZTogJzFyZW0nLFxuICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC45KScsXG4gICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgbWFyZ2luQm90dG9tOiAyXG4gICAgfSxcbiAgICBzdWJoZWFkaW5nOiB7XG4gICAgICAgIGZvbnRTaXplOiAnMC42cmVtJyxcbiAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCknLFxuICAgICAgICBtYXJnaW46IDBcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlciIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFNlZU1vcmVQcm9wcyB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcbi8vIGltcG9ydCB1cCBmcm9tICcuLy4uL3VwLnBuZydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VlTW9yZShwcm9wczogU2VlTW9yZVByb3BzKSB7XG4gICAgY29uc3QgU2VlTW9yZUNvbnRlbnQgPSBwcm9wcy5zZWVNb3JlQ29udGVudFxuICAgIHJldHVybiAoXG4gICAgICAgIHByb3BzLnNob3dDb250ZW50XG4gICAgICAgICAgICA/IDxkaXYgc3R5bGU9e3N0eWxlcy5zZWVNb3JlRXhwYW5kZWR9PlxuICAgICAgICAgICAgICAgIDxTZWVNb3JlQ29udGVudCBjbG9zZT17KCkgPT4gcHJvcHMudG9nZ2xlTW9yZShmYWxzZSl9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDogPGRpdiBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvcHMudG9nZ2xlTW9yZSh0cnVlKVxuICAgICAgICAgICAgfX0gc3R5bGU9e3N0eWxlcy5zZWVNb3JlfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17c3R5bGVzLnNlZU1vcmVJY29ufT7ijIM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3N0eWxlcy5zZWVNb3JlVGV4dH0+U2VlIG1vcmU8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmNvbnN0IHN0eWxlczogYW55ID0ge1xuICAgIHNlZU1vcmU6IHtcbiAgICAgICAgaGVpZ2h0OiBcIjEwdmhcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCJsaW5lYXItZ3JhZGllbnQocmdiYSgwLCAwLCAwLCAwKSwgcmdiYSgwLCAwLCAwLCAwLjIpKVwiLFxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiLFxuICAgICAgICBib3R0b206IDBcbiAgICB9LFxuICAgIHNlZU1vcmVFeHBhbmRlZDoge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgIHpJbmRleDogOTk5OTlcbiAgICB9LFxuICAgIHNlZU1vcmVUZXh0OiB7XG4gICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgbGV0dGVyU3BhY2luZzogXCIwLjFlbVwiLFxuICAgICAgICBtYXJnaW5Cb3R0b206IFwiMi4ydmhcIixcbiAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJjYXBpdGFsaXplXCIsXG4gICAgICAgIG9wYWNpdHk6IFwiMVwiLFxuICAgICAgICBmb250U2l6ZTogXCIwLjhlbVwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcIm9wYWNpdHkgMzAwbXMgZWFzZS1pbi1vdXRcIlxuICAgIH0sXG4gICAgc2VlTW9yZUljb246IHtcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiBcIjAuMmVtXCIsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjR2aFwiLFxuICAgICAgICBvcGFjaXR5OiBcIjFcIixcbiAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDAgMCA1cHggYmxhY2spXCIsXG4gICAgICAgIHRleHRUcmFuc2Zvcm06IFwiY2FwaXRhbGl6ZVwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcIm9wYWNpdHkgMzAwbXMgZWFzZS1pbi1vdXRcIlxuICAgIH0sXG4gICAgc2VlTW9yZUNsb3NlOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwIDNweCAycHggI2NjYylcIixcbiAgICAgICAgcmlnaHQ6IFwiMC41cmVtXCIsXG4gICAgICAgIHRvcDogXCIwLjVyZW1cIixcbiAgICAgICAgZm9udFNpemU6IFwiMS41cmVtXCIsXG4gICAgICAgIG9wYWNpdHk6IFwiMC43XCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMXJlbVwiXG4gICAgfVxufSIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL0B0ZWFtc3VwZXJjZWxsL3R5cGluZ3MtZm9yLWNzcy1tb2R1bGVzLWxvYWRlci9zcmMvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNS0yIS4vc3R5bGVzLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl8xQ0s3RkhWd2hpT251Q2laSndpUHExIHtcXG5cXHR3aWR0aDogNDBweDtcXG5cXHRoZWlnaHQ6IDQwcHg7XFxuXFx0bWFyZ2luOiAxMDBweCBhdXRvO1xcblxcdGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuXFxuXFx0Ym9yZGVyLXJhZGl1czogMTAwJTtcXG5cXHQtd2Via2l0LWFuaW1hdGlvbjogXzFoRVEyVnpJa1RpWi05alpvTEkzSkMgMXMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7XFxuXFx0YW5pbWF0aW9uOiBfMWhFUTJWeklrVGlaLTlqWm9MSTNKQyAxcyBpbmZpbml0ZSBlYXNlLWluLW91dDtcXG59XFxuXFxuQC13ZWJraXQta2V5ZnJhbWVzIF8xaEVRMlZ6SWtUaVotOWpab0xJM0pDIHtcXG5cXHQwJSB7XFxuXFx0XFx0LXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDApO1xcblxcdH1cXG5cXHQxMDAlIHtcXG5cXHRcXHQtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7XFxuXFx0XFx0b3BhY2l0eTogMDtcXG5cXHR9XFxufVxcblxcbkBrZXlmcmFtZXMgXzFoRVEyVnpJa1RpWi05alpvTEkzSkMge1xcblxcdDAlIHtcXG5cXHRcXHQtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMCk7XFxuXFx0XFx0dHJhbnNmb3JtOiBzY2FsZSgwKTtcXG5cXHR9XFxuXFx0MTAwJSB7XFxuXFx0XFx0LXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEpO1xcblxcdFxcdHRyYW5zZm9ybTogc2NhbGUoMSk7XFxuXFx0XFx0b3BhY2l0eTogMDtcXG5cXHR9XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJzcGlubmVyXCI6IFwiXzFDSzdGSFZ3aGlPbnVDaVpKd2lQcTFcIixcblx0XCJzay1zY2FsZW91dFwiOiBcIl8xaEVRMlZ6SWtUaVotOWpab0xJM0pDXCJcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb2dyZXNzIGZyb20gJy4vUHJvZ3Jlc3MnXG5pbXBvcnQgeyBQcm9ncmVzc0NvbnRleHQgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXG5pbXBvcnQgUHJvZ3Jlc3NDdHggZnJvbSAnLi8uLi9jb250ZXh0L1Byb2dyZXNzJ1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gICAgY29uc3QgeyBudW1BcnJheSwgY3VycmVudElkIH0gPSB1c2VDb250ZXh0PFByb2dyZXNzQ29udGV4dD4oUHJvZ3Jlc3NDdHgpXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLnByb2dyZXNzQXJyfT5cbiAgICAgICAgICAgIHtudW1BcnJheS5tYXAoaSA9PlxuICAgICAgICAgICAgICAgIDxQcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPXsxIC8gbnVtQXJyYXkubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU9e2kgPT09IGN1cnJlbnRJZCA/IDEgOiAoaSA8IGN1cnJlbnRJZCA/IDIgOiAwKX1cbiAgICAgICAgICAgICAgICAvPil9XG4gICAgICAgIDwvZGl2PlxuICAgIClcbn1cblxuY29uc3Qgc3R5bGVzID0ge1xuICAgIHByb2dyZXNzQXJyOiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgICBmbGV4V3JhcDogJ3JvdycsXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB3aWR0aDogJzk4JScsXG4gICAgICAgIHBhZGRpbmc6IDUsXG4gICAgICAgIHBhZGRpbmdUb3A6IDcsXG4gICAgICAgIGFsaWduU2VsZjogJ2NlbnRlcicsXG4gICAgICAgIHpJbmRleDogOTksXG4gICAgICAgIGZpbHRlcjogJ2Ryb3Atc2hhZG93KDAgMXB4IDhweCAjMjIyKSdcbiAgICB9XG59IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFByb2dyZXNzUHJvcHMsIFByb2dyZXNzQ29udGV4dCB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcbmltcG9ydCBQcm9ncmVzc1dyYXBwZXIgZnJvbSAnLi9Qcm9ncmVzc1dyYXBwZXInXG5pbXBvcnQgUHJvZ3Jlc3NDdHggZnJvbSAnLi8uLi9jb250ZXh0L1Byb2dyZXNzJ1xuXG5leHBvcnQgZGVmYXVsdCAocHJvcHM6IFByb2dyZXNzUHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGJ1ZmZlckFjdGlvbiwgY291bnQsIHBhdXNlIH0gPSB1c2VDb250ZXh0PFByb2dyZXNzQ29udGV4dD4oUHJvZ3Jlc3NDdHgpXG5cbiAgICBjb25zdCBnZXRQcm9ncmVzc1N0eWxlID0gKHsgYWN0aXZlIH0pID0+IHtcbiAgICAgICAgc3dpdGNoIChhY3RpdmUpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4geyB3aWR0aDogJzEwMCUnIH1cbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0cmFuc2Zvcm06IGBzY2FsZVgoJHtjb3VudCAvIDEwMH0pYCB9XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IDAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4geyB3aWR0aDogMCB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB7IHdpZHRoLCBhY3RpdmUgfSA9IHByb3BzXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFByb2dyZXNzV3JhcHBlciB3aWR0aD17d2lkdGh9IHBhdXNlPXtwYXVzZX0gYnVmZmVyQWN0aW9uPXtidWZmZXJBY3Rpb259PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IC4uLmdldFByb2dyZXNzU3R5bGUoeyBhY3RpdmUgfSksIC4uLnN0eWxlcy5pbm5lciB9fSAvPlxuICAgICAgICA8L1Byb2dyZXNzV3JhcHBlcj5cbiAgICApXG59XG5cbmNvbnN0IHN0eWxlczogYW55ID0ge1xuICAgIGlubmVyOiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICcjZmZmJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgIGJvcmRlclJhZGl1czogMixcbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnY2VudGVyIGxlZnQnLFxuXG4gICAgICAgIFdlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgIE1vekJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgIG1zQmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgYmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcblxuICAgICAgICBXZWJraXRQZXJzcGVjdGl2ZTogMTAwMCxcbiAgICAgICAgTW96UGVyc3BlY3RpdmU6IDEwMDAsXG4gICAgICAgIG1zUGVyc3BlY3RpdmU6IDEwMDAsXG4gICAgICAgIHBlcnNwZWN0aXZlOiAxMDAwXG4gICAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFByb2dyZXNzV3JhcHBlclByb3BzIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuXG5jb25zdCBQcm9ncmVzc1dyYXBwZXIgPSAocHJvcHM6IFByb2dyZXNzV3JhcHBlclByb3BzKSA9PiAoXG4gICAgPGRpdiBzdHlsZT17eyAuLi5zdHlsZXMucHJvZ3Jlc3MsIC4uLmdldFByb2dyZXNzV3JhcHBlclN0eWxlKHByb3BzKSB9fT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgIDwvZGl2PlxuKVxuXG5jb25zdCBnZXRQcm9ncmVzc1dyYXBwZXJTdHlsZSA9ICh7IHdpZHRoLCBwYXVzZSwgYnVmZmVyQWN0aW9uIH0pID0+ICh7XG4gICAgd2lkdGg6IGAke3dpZHRoICogMTAwfSVgLFxuICAgIG9wYWNpdHk6IHBhdXNlICYmICFidWZmZXJBY3Rpb24gPyAwIDogMVxufSlcblxuY29uc3Qgc3R5bGVzID0ge1xuICAgIHByb2dyZXNzOiB7XG4gICAgICAgIGhlaWdodDogMixcbiAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgICAgYmFja2dyb3VuZDogJyM1NTUnLFxuICAgICAgICBtYXJnaW46IDIsXG4gICAgICAgIGJvcmRlclJhZGl1czogMixcbiAgICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgNDAwbXMgZWFzZS1pbi1vdXQnXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcm9ncmVzc1dyYXBwZXIiXSwic291cmNlUm9vdCI6IiJ9