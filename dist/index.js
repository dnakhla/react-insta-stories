!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("Stories",["React"],t):"object"==typeof exports?exports.Stories=t(require("react")):e.Stories=t(e.React)}(this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/index.js",n(n.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)).default.createContext({stories:[],defaultInterval:4e3,width:360,height:640,isPaused:!1});t.default=o},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0));t.default=o.default.createContext({numArray:[],currentId:0,count:0,currentStory:{url:""},videoDuration:0,bufferAction:!1,pause:!1})},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),a=o(n(4)),s=o(n(1)),u=function(e){i.useEffect(()=>{e.stories.forEach((e,t)=>{let n=[];const r="object"!=typeof e||!e.url||"image"!==e.type&&e.type?"string"==typeof e?e:null:e.url;r&&(n[t]=new Image,n[t].src=r)})},[e.stories]);let t={stories:e.stories.map(e=>"string"==typeof e?{url:e}:e),width:e.width,height:e.height,loader:e.loader,header:e.header,storyStyles:e.storyStyles,loop:e.loop,defaultInterval:e.defaultInterval,isPaused:e.isPaused,currentIndex:e.currentIndex,onStoryStart:e.onStoryStart,onStoryEnd:e.onStoryEnd,onAllStoriesEnd:e.onAllStoriesEnd};return i.default.createElement(s.default.Provider,{value:t},i.default.createElement(a.default,null))};u.defaultProps={width:360,height:640,defaultInterval:4e3},t.default=u},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),a=o(n(1)),s=o(n(2)),u=o(n(5)),l=o(n(12));t.default=function(){const[e,t]=i.useState(0),[n,r]=i.useState(!0),[o,d]=i.useState(0),[f,p]=i.useState(!0),[h,y]=i.useState(0);let m=i.useRef(),g=i.useRef();const{width:v,height:b,defaultInterval:_,stories:x,loop:w,currentIndex:E,isPaused:S,onStoryStart:j,onStoryEnd:M,onAllStoriesEnd:I}=i.useContext(a.default);i.useEffect(()=>(n||(g.current=requestAnimationFrame(O)),()=>{cancelAnimationFrame(g.current)}),[e,n]),i.useEffect(()=>{d(0)},[e,x]),i.useEffect(()=>{"number"==typeof E&&(E>=0&&E<x.length?t(E):console.error("Index out of bounds. Current index was set to value more than the length of stories array.",E))},[E]),i.useEffect(()=>{"boolean"==typeof S&&r(S)},[S]);const O=()=>{d(t=>{0===t&&C();const n=k();return t<100?g.current=requestAnimationFrame(O):(e===x.length-1&&P(),A()),t+100/(n/1e3*60)})},C=()=>{j&&j(e,x[e])},P=()=>{I&&I()},k=()=>"video"===x[e].type?h:"number"==typeof x[e].duration?x[e].duration:_,T=(e,t)=>{r("pause"===e),p(!!t)},A=()=>{let n=!!M&&M(e,S,x[e]);if(console.log({callbackOverride:n},{currentId:e}),n)return t(n),void d(0);w?D():z()},D=()=>{t((e+1)%x.length),d(0)},z=()=>{e<x.length-1&&(t(e+1),d(0))},R=e=>{e.preventDefault(),m.current=setTimeout(()=>{T("pause")},200)},L=(r,o)=>{r.preventDefault(),m.current&&clearTimeout(m.current),n?T("play"):"next"===o?A():e>0&&(t(e-1),d(0))};return i.default.createElement("div",{style:Object.assign(Object.assign({},c.container),{width:v,height:b})},i.default.createElement(s.default.Provider,{value:{bufferAction:f,videoDuration:h,numArray:x.map((e,t)=>t),currentStory:x[e],currentId:e,count:o,pause:n}},i.default.createElement(l.default,null)),i.default.createElement(u.default,{action:T,bufferAction:f,playState:n,story:x[e],getVideoDuration:e=>{y(1e3*e)}}),i.default.createElement("div",{style:c.overlay},i.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:R,onTouchEnd:e=>L(e,"previous"),onMouseDown:R,onMouseUp:e=>L(e,"previous")}),i.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:R,onTouchEnd:e=>L(e,"next"),onMouseDown:R,onMouseUp:e=>L(e,"next")})))};const c={container:{display:"flex",flexDirection:"column",background:"#111",position:"relative"},overlay:{position:"absolute",height:"inherit",width:"inherit",display:"flex"}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),a=o(n(6)),s=o(n(7)),u=o(n(8)),l=o(n(1)),c={story:{display:"flex",position:"relative",overflow:"hidden"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.default=e=>{const[t,n]=i.useState(!1),[r,o]=i.useState(!1),{width:d,height:f,loader:p,header:h,storyStyles:y}=i.useContext(l.default);i.useEffect(()=>{o(!1),"object"==typeof e.story&&e.story.content?(n(!0),e.action("play",!0)):(n(!1),e.action("pause",!0),m.current&&m.current.addEventListener("waiting",()=>{e.action("pause",!0)}),m.current&&m.current.addEventListener("playing",()=>{e.action("play",!0)}))},[e.story]);let m=i.useRef(null);i.useEffect(()=>{m.current&&(e.playState?m.current.pause():m.current.play().catch(e=>console.log(e)))},[e.playState]);const g=()=>{try{n(!0),e.action("play",!0)}catch(e){console.log(e)}},v=()=>{try{e.getVideoDuration(m.current.duration),m.current&&m.current.play().then(()=>{g()}).catch(t=>{e.action("pause"),console.log(t)})}catch(e){console.log(e)}};let b="object"==typeof e.story&&e.story.header;return i.default.createElement("div",{style:Object.assign(Object.assign({},c.story),{width:d,height:f})},(()=>{let t="object"==typeof e.story&&e.story.content;if(t)return i.default.createElement(t,{action:e.action,isPaused:e.playState});{let t="object"==typeof e.story?e.story.url:e.story,n="object"==typeof e.story&&e.story.styles||y||c.storyContent,r="object"==typeof e.story&&"video"===e.story.type?"video":"image";return"image"===r?i.default.createElement("img",{style:n,src:t,onLoad:g}):"video"===r?i.default.createElement("video",{preload:"auto",ref:m,style:n,src:t,controls:!1,onLoadedData:v,autoPlay:!0,playsInline:!0}):null}})(),b&&i.default.createElement("div",{style:{position:"absolute",left:12,top:20,zIndex:19}},"object"==typeof e.story?h?h(e.story.header):i.default.createElement(a.default,{heading:e.story.header.heading,subheading:e.story.header.subheading,profileImage:e.story.header.profileImage}):null),!t&&i.default.createElement("div",{style:{width:d,height:f,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},p||i.default.createElement("div",{className:u.default.spinner})),"object"==typeof e.story&&e.story.seeMore&&i.default.createElement("div",{style:{position:"absolute",margin:"auto",bottom:r?"unset":0,zIndex:9999,width:"100%",height:r?"100%":"auto"}},i.default.createElement(s.default,{action:e.action,toggleMore:t=>{o(t),e.action(t?"pause":"play")},showContent:r,seeMoreContent:e.story.seeMore})))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),i={main:{display:"flex",alignItems:"center"},img:{width:40,height:40,borderRadius:40,marginRight:10,filter:"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))",border:"2px solid rgba(255, 255, 255, 0.8)"},text:{display:"flex",flexDirection:"column",filter:"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))"},heading:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",margin:0,marginBottom:2},subheading:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.8)",margin:0}};t.default=({profileImage:e,heading:t,subheading:n})=>o.default.createElement("div",{style:i.main},e&&o.default.createElement("img",{style:i.img,src:e}),o.default.createElement("span",{style:i.text},o.default.createElement("p",{style:i.heading},t),o.default.createElement("p",{style:i.subheading},n)))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0));t.default=function(e){const t=e.seeMoreContent;return e.showContent?o.default.createElement("div",{style:i.seeMoreExpanded},o.default.createElement(t,{close:()=>e.toggleMore(!1)})):o.default.createElement("div",{onClick:()=>{e.toggleMore(!0)},style:i.seeMore},o.default.createElement("span",{style:i.seeMoreIcon},"âŒƒ"),o.default.createElement("span",{style:i.seeMoreText},"See more"))};const i={seeMore:{height:"10vh",background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))",display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"flex-end",bottom:0},seeMoreExpanded:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",zIndex:99999},seeMoreText:{color:"white",textAlign:"center",letterSpacing:"0.1em",marginBottom:"2.2vh",textTransform:"capitalize",opacity:"1",fontSize:"0.8em",transition:"opacity 300ms ease-in-out"},seeMoreIcon:{color:"white",textAlign:"center",letterSpacing:"0.2em",marginBottom:"0.4vh",opacity:"1",filter:"drop-shadow(0 0 5px black)",textTransform:"capitalize",transition:"opacity 300ms ease-in-out"},seeMoreClose:{position:"absolute",filter:"drop-shadow(0 3px 2px #ccc)",right:"0.5rem",top:"0.5rem",fontSize:"1.5rem",opacity:"0.7",padding:"1rem"}}},function(e,t,n){var r=n(9),o=n(10);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],u=t.base?i[0]+t.base:i[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var d=s(c),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:c,updater:m(f,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,y=0;function m(e,t){var n,r,o;if(t.singleton){var i=y++;n=h||(h=l(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=l(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=u(e,t),l=0;l<n.length;l++){var c=s(n[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=i}}}},function(e,t,n){(t=n(11)(!1)).push([e.i,"._1CK7FHVwhiOnuCiZJwiPq1 {\n\twidth: 40px;\n\theight: 40px;\n\tmargin: 100px auto;\n\tbackground-color: #fff;\n\n\tborder-radius: 100%;\n\t-webkit-animation: _1hEQ2VzIkTiZ-9jZoLI3JC 1s infinite ease-in-out;\n\tanimation: _1hEQ2VzIkTiZ-9jZoLI3JC 1s infinite ease-in-out;\n}\n\n@-webkit-keyframes _1hEQ2VzIkTiZ-9jZoLI3JC {\n\t0% {\n\t\t-webkit-transform: scale(0);\n\t}\n\t100% {\n\t\t-webkit-transform: scale(1);\n\t\topacity: 0;\n\t}\n}\n\n@keyframes _1hEQ2VzIkTiZ-9jZoLI3JC {\n\t0% {\n\t\t-webkit-transform: scale(0);\n\t\ttransform: scale(0);\n\t}\n\t100% {\n\t\t-webkit-transform: scale(1);\n\t\ttransform: scale(1);\n\t\topacity: 0;\n\t}\n}\n",""]),t.locals={spinner:"_1CK7FHVwhiOnuCiZJwiPq1","sk-scaleout":"_1hEQ2VzIkTiZ-9jZoLI3JC"},e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),a=o(n(13)),s=o(n(2));t.default=()=>{const{numArray:e,currentId:t}=i.useContext(s.default);return i.default.createElement("div",{style:u.progressArr},e.map(n=>i.default.createElement(a.default,{key:n,width:1/e.length,active:n===t?1:n<t?2:0})))};const u={progressArr:{display:"flex",justifyContent:"center",maxWidth:"100%",flexWrap:"row",position:"absolute",width:"98%",padding:5,paddingTop:7,alignSelf:"center",zIndex:99,filter:"drop-shadow(0 1px 8px #222)"}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0)),a=o(n(14)),s=o(n(2));t.default=e=>{const{bufferAction:t,count:n,pause:r}=i.useContext(s.default),{width:o,active:l}=e;return i.default.createElement(a.default,{width:o,pause:r,bufferAction:t},i.default.createElement("div",{style:Object.assign(Object.assign({},(({active:e})=>{switch(e){case 2:return{width:"100%"};case 1:return{transform:`scaleX(${n/100})`};case 0:default:return{width:0}}})({active:l})),u.inner)}))};const u={inner:{background:"#fff",height:"100%",maxWidth:"100%",borderRadius:2,transformOrigin:"center left",WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",msBackfaceVisibility:"hidden",backfaceVisibility:"hidden",WebkitPerspective:1e3,MozPerspective:1e3,msPerspective:1e3,perspective:1e3}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(0)),i=({width:e,pause:t,bufferAction:n})=>({width:`${100*e}%`,opacity:t&&!n?0:1}),a={progress:{height:2,maxWidth:"100%",background:"#555",margin:2,borderRadius:2,transition:"opacity 400ms ease-in-out"}};t.default=e=>o.default.createElement("div",{style:Object.assign(Object.assign({},a.progress),i(e))},e.children)}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1N0b3JpZXMvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInJlYWN0XCIsXCJjb21tb25qczJcIjpcInJlYWN0XCIsXCJhbWRcIjpcIlJlYWN0XCIsXCJyb290XCI6XCJSZWFjdFwifSIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbnRleHQvR2xvYmFsLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbnRleHQvUHJvZ3Jlc3MudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvaW5kZXgudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Db250YWluZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9TdG9yeS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL0hlYWRlci50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1NlZU1vcmUudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvc3R5bGVzLmNzcz9iYmJmIiwid2VicGFjazovL1N0b3JpZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovL1N0b3JpZXMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Qcm9ncmVzc0FycmF5LnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbXBvbmVudHMvUHJvZ3Jlc3MudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Qcm9ncmVzc1dyYXBwZXIudHN4Il0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkdsb2JhbENvbnRleHQiLCJjcmVhdGVDb250ZXh0Iiwic3RvcmllcyIsImRlZmF1bHRJbnRlcnZhbCIsIndpZHRoIiwiaGVpZ2h0IiwiaXNQYXVzZWQiLCJudW1BcnJheSIsImN1cnJlbnRJZCIsImNvdW50IiwiY3VycmVudFN0b3J5IiwidXJsIiwidmlkZW9EdXJhdGlvbiIsImJ1ZmZlckFjdGlvbiIsInBhdXNlIiwiUmVhY3RJbnN0YVN0b3JpZXMiLCJwcm9wcyIsInVzZUVmZmVjdCIsImZvckVhY2giLCJpbWFnZXMiLCJ0eXBlIiwiSW1hZ2UiLCJzcmMiLCJjb250ZXh0IiwibWFwIiwibG9hZGVyIiwiaGVhZGVyIiwic3RvcnlTdHlsZXMiLCJsb29wIiwiY3VycmVudEluZGV4Iiwib25TdG9yeVN0YXJ0Iiwib25TdG9yeUVuZCIsIm9uQWxsU3Rvcmllc0VuZCIsIlByb3ZpZGVyIiwiZGVmYXVsdFByb3BzIiwic2V0Q3VycmVudElkIiwidXNlU3RhdGUiLCJzZXRQYXVzZSIsInNldENvdW50Iiwic2V0QnVmZmVyQWN0aW9uIiwic2V0VmlkZW9EdXJhdGlvbiIsIm1vdXNlZG93bklkIiwidXNlUmVmIiwiYW5pbWF0aW9uRnJhbWVJZCIsInVzZUNvbnRleHQiLCJjdXJyZW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaW5jcmVtZW50Q291bnQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImxlbmd0aCIsImNvbnNvbGUiLCJlcnJvciIsInN0b3J5U3RhcnRDYWxsYmFjayIsImludGVydmFsIiwiZ2V0Q3VycmVudEludGVydmFsIiwiYWxsU3Rvcmllc0VuZENhbGxiYWNrIiwibmV4dCIsImR1cmF0aW9uIiwidG9nZ2xlU3RhdGUiLCJhY3Rpb24iLCJjYWxsYmFja092ZXJyaWRlIiwibG9nIiwidXBkYXRlTmV4dFN0b3J5SWRGb3JMb29wIiwidXBkYXRlTmV4dFN0b3J5SWQiLCJkZWJvdW5jZVBhdXNlIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2V0VGltZW91dCIsIm1vdXNlVXAiLCJjbGVhclRpbWVvdXQiLCJzdHlsZSIsInN0eWxlcyIsImNvbnRhaW5lciIsIl8iLCJwbGF5U3RhdGUiLCJzdG9yeSIsImdldFZpZGVvRHVyYXRpb24iLCJvdmVybGF5IiwiekluZGV4Iiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaEVuZCIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJiYWNrZ3JvdW5kIiwicG9zaXRpb24iLCJvdmVyZmxvdyIsInN0b3J5Q29udGVudCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwibWFyZ2luIiwibG9hZGVkIiwic2V0TG9hZGVkIiwic2hvd01vcmUiLCJzZXRTaG93TW9yZSIsImNvbnRlbnQiLCJ2aWQiLCJhZGRFdmVudExpc3RlbmVyIiwicGxheSIsImNhdGNoIiwiaW1hZ2VMb2FkZWQiLCJ2aWRlb0xvYWRlZCIsInRoZW4iLCJpc0hlYWRlciIsIklubmVyQ29udGVudCIsInNvdXJjZSIsInN0b3J5Q29udGVudFN0eWxlcyIsIm9uTG9hZCIsInByZWxvYWQiLCJyZWYiLCJjb250cm9scyIsIm9uTG9hZGVkRGF0YSIsImF1dG9QbGF5IiwicGxheXNJbmxpbmUiLCJnZXRTdG9yeUNvbnRlbnQiLCJsZWZ0IiwidG9wIiwiaGVhZGluZyIsInN1YmhlYWRpbmciLCJwcm9maWxlSW1hZ2UiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJjb2xvciIsImNsYXNzTmFtZSIsInNwaW5uZXIiLCJzZWVNb3JlIiwiYm90dG9tIiwidG9nZ2xlTW9yZSIsInNob3ciLCJzaG93Q29udGVudCIsInNlZU1vcmVDb250ZW50IiwibWFpbiIsImltZyIsImJvcmRlclJhZGl1cyIsIm1hcmdpblJpZ2h0IiwiZmlsdGVyIiwiYm9yZGVyIiwidGV4dCIsImZvbnRTaXplIiwibWFyZ2luQm90dG9tIiwiU2VlTW9yZUNvbnRlbnQiLCJzZWVNb3JlRXhwYW5kZWQiLCJjbG9zZSIsIm9uQ2xpY2siLCJzZWVNb3JlSWNvbiIsInNlZU1vcmVUZXh0IiwiYm94U2l6aW5nIiwidGV4dEFsaWduIiwibGV0dGVyU3BhY2luZyIsInRleHRUcmFuc2Zvcm0iLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsInNlZU1vcmVDbG9zZSIsInJpZ2h0IiwicGFkZGluZyIsImFwaSIsImRlZmF1bHQiLCJvcHRpb25zIiwiZXhwb3J0ZWQiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJpdGVtIiwiaWQiLCJiYXNlIiwiY29uY2F0IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwicHVzaCIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsInVzZVNvdXJjZU1hcCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwiYmFzZTY0IiwiZGF0YSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsInByb2dyZXNzQXJyIiwiYWN0aXZlIiwiZmxleFdyYXAiLCJwYWRkaW5nVG9wIiwiYWxpZ25TZWxmIiwidHJhbnNmb3JtIiwiZ2V0UHJvZ3Jlc3NTdHlsZSIsImlubmVyIiwidHJhbnNmb3JtT3JpZ2luIiwiV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5IiwiTW96QmFja2ZhY2VWaXNpYmlsaXR5IiwibXNCYWNrZmFjZVZpc2liaWxpdHkiLCJiYWNrZmFjZVZpc2liaWxpdHkiLCJXZWJraXRQZXJzcGVjdGl2ZSIsIk1velBlcnNwZWN0aXZlIiwibXNQZXJzcGVjdGl2ZSIsInBlcnNwZWN0aXZlIiwiZ2V0UHJvZ3Jlc3NXcmFwcGVyU3R5bGUiLCJwcm9ncmVzcyIsImNoaWxkcmVuIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxVQUNSLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sVUFBVyxDQUFDLFNBQVVKLEdBQ0gsaUJBQVpDLFFBQ2RBLFFBQWlCLFFBQUlELEVBQVFHLFFBQVEsVUFFckNKLEVBQWMsUUFBSUMsRUFBUUQsRUFBWSxPQVJ4QyxDQVNHTyxNQUFNLFNBQVNDLEdBQ2xCLE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVVCxRQUduQyxJQUFJQyxFQUFTTSxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIWCxRQUFTLElBVVYsT0FOQVksRUFBUUgsR0FBVUksS0FBS1osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU1EsR0FHL0RQLEVBQU9VLEdBQUksRUFHSlYsRUFBT0QsUUEwRGYsT0FyREFRLEVBQW9CTSxFQUFJRixFQUd4QkosRUFBb0JPLEVBQUlSLEVBR3hCQyxFQUFvQlEsRUFBSSxTQUFTaEIsRUFBU2lCLEVBQU1DLEdBQzNDVixFQUFvQlcsRUFBRW5CLEVBQVNpQixJQUNsQ0csT0FBT0MsZUFBZXJCLEVBQVNpQixFQUFNLENBQUVL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QUFjQSxHQUN2RCwrQkFDSXlELE1BQUssK0JBakJRLEdBQUd3TCxhQUN4QixPQUFRQSxHQUNKLEtBQUssRUFDRCxNQUFPLENBQUUxUCxNQUFPLFFBQ3BCLEtBQUssRUFDRCxNQUFPLENBQUU4UCxVQUFXLFVBQVV6UCxFQUFRLFFBQzFDLEtBQUssRUFFTCxRQUNJLE1BQU8sQ0FBRUwsTUFBTyxLQVFKK1AsQ0FBaUIsQ0FBRUwsWUFBY3ZMLEVBQU82TCxXQUtwRSxNQUFNN0wsRUFBYyxDQUNoQjZMLE1BQU8sQ0FDSC9LLFdBQVksT0FDWmhGLE9BQVEsT0FDUm9GLFNBQVUsT0FDVjZDLGFBQWMsRUFDZCtILGdCQUFpQixjQUVqQkMseUJBQTBCLFNBQzFCQyxzQkFBdUIsU0FDdkJDLHFCQUFzQixTQUN0QkMsbUJBQW9CLFNBRXBCQyxrQkFBbUIsSUFDbkJDLGVBQWdCLElBQ2hCQyxjQUFlLElBQ2ZDLFlBQWEsTyxrS0M5Q3JCLGdCQVNNQyxFQUEwQixFQUFHMVEsUUFBT1UsUUFBT0QsbUJBQWpCLENBQzVCVCxNQUFPLEdBQVcsSUFBUkEsS0FDVm1KLFFBQVN6SSxJQUFVRCxFQUFlLEVBQUksSUFHcEMwRCxFQUFTLENBQ1h3TSxTQUFVLENBQ04xUSxPQUFRLEVBQ1JvRixTQUFVLE9BQ1ZKLFdBQVksT0FDWk0sT0FBUSxFQUNSMkMsYUFBYyxFQUNka0IsV0FBWSw4QkFJcEIsVUF0QnlCeEksR0FDckIsK0JBQUtzRCxNQUFLLCtCQUFPQyxFQUFPd00sVUFBYUQsRUFBd0I5UCxLQUN4REEsRUFBTWdRIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJTdG9yaWVzXCIsIFtcIlJlYWN0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlN0b3JpZXNcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiU3Rvcmllc1wiXSA9IGZhY3Rvcnkocm9vdFtcIlJlYWN0XCJdKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3QvaW5kZXguanNcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18wX187IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgR2xvYmFsQ3R4IH0gZnJvbSAnLi4vaW50ZXJmYWNlcydcblxuY29uc3QgR2xvYmFsQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8R2xvYmFsQ3R4Pih7XG4gICAgc3RvcmllczogW10sXG4gICAgZGVmYXVsdEludGVydmFsOiA0MDAwLFxuICAgIHdpZHRoOiAzNjAsXG4gICAgaGVpZ2h0OiA2NDAsXG4gICAgaXNQYXVzZWQ6ZmFsc2Vcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IEdsb2JhbENvbnRleHQiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm9ncmVzc0NvbnRleHQgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0LmNyZWF0ZUNvbnRleHQ8UHJvZ3Jlc3NDb250ZXh0Pih7XG4gICAgbnVtQXJyYXk6IFtdLFxuICAgIGN1cnJlbnRJZDogMCxcbiAgICBjb3VudDogMCxcbiAgICBjdXJyZW50U3Rvcnk6IHsgdXJsOiAnJyB9LFxuICAgIHZpZGVvRHVyYXRpb246IDAsXG4gICAgYnVmZmVyQWN0aW9uOiBmYWxzZSxcbiAgICBwYXVzZTogZmFsc2Vcbn0pIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUmVhY3RJbnN0YVN0b3JpZXNQcm9wcywgR2xvYmFsQ3R4IH0gZnJvbSAnLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL2NvbXBvbmVudHMvQ29udGFpbmVyJ1xuaW1wb3J0IEdsb2JhbENvbnRleHQgZnJvbSAnLi9jb250ZXh0L0dsb2JhbCdcblxuY29uc3QgUmVhY3RJbnN0YVN0b3JpZXMgPSBmdW5jdGlvbiAocHJvcHM6IFJlYWN0SW5zdGFTdG9yaWVzUHJvcHMpIHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBwcm9wcy5zdG9yaWVzLmZvckVhY2goKHMsIGkpID0+IHtcbiAgICAgICAgICAgIGxldCBpbWFnZXMgPSBbXVxuICAgICAgICAgICAgY29uc3QgdXJsID0gdHlwZW9mIHMgPT09ICdvYmplY3QnICYmIHMudXJsICYmIChzLnR5cGUgPT09ICdpbWFnZScgfHwgIXMudHlwZSkgPyBzLnVybCA6ICh0eXBlb2YgcyA9PT0gJ3N0cmluZycgPyBzIDogbnVsbClcbiAgICAgICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgICAgICBpbWFnZXNbaV0gPSBuZXcgSW1hZ2UoKVxuICAgICAgICAgICAgICAgIGltYWdlc1tpXS5zcmMgPSB1cmxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9LCBbcHJvcHMuc3Rvcmllc10pXG5cbiAgICBsZXQgY29udGV4dDogR2xvYmFsQ3R4ID0ge1xuICAgICAgICBzdG9yaWVzOiBwcm9wcy5zdG9yaWVzLm1hcChzID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHJldHVybiB7IHVybDogcyB9XG4gICAgICAgICAgICBlbHNlIHJldHVybiBzXG4gICAgICAgIH0pLFxuICAgICAgICB3aWR0aDogcHJvcHMud2lkdGgsXG4gICAgICAgIGhlaWdodDogcHJvcHMuaGVpZ2h0LFxuICAgICAgICBsb2FkZXI6IHByb3BzLmxvYWRlcixcbiAgICAgICAgaGVhZGVyOiBwcm9wcy5oZWFkZXIsXG4gICAgICAgIHN0b3J5U3R5bGVzOiBwcm9wcy5zdG9yeVN0eWxlcyxcbiAgICAgICAgbG9vcDogcHJvcHMubG9vcCxcbiAgICAgICAgZGVmYXVsdEludGVydmFsOiBwcm9wcy5kZWZhdWx0SW50ZXJ2YWwsXG4gICAgICAgIGlzUGF1c2VkOiBwcm9wcy5pc1BhdXNlZCxcbiAgICAgICAgY3VycmVudEluZGV4OiBwcm9wcy5jdXJyZW50SW5kZXgsXG4gICAgICAgIG9uU3RvcnlTdGFydDogcHJvcHMub25TdG9yeVN0YXJ0LFxuICAgICAgICBvblN0b3J5RW5kOiBwcm9wcy5vblN0b3J5RW5kLFxuICAgICAgICBvbkFsbFN0b3JpZXNFbmQ6IHByb3BzLm9uQWxsU3Rvcmllc0VuZFxuICAgIH1cbiAgICByZXR1cm4gPEdsb2JhbENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAgICA8Q29udGFpbmVyIC8+XG4gICAgPC9HbG9iYWxDb250ZXh0LlByb3ZpZGVyPlxufVxuXG5SZWFjdEluc3RhU3Rvcmllcy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgd2lkdGg6IDM2MCxcbiAgICBoZWlnaHQ6IDY0MCxcbiAgICBkZWZhdWx0SW50ZXJ2YWw6IDQwMDBcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVhY3RJbnN0YVN0b3JpZXMiLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tIFwiLi8uLi9jb250ZXh0L0dsb2JhbFwiO1xuaW1wb3J0IFByb2dyZXNzQ29udGV4dCBmcm9tIFwiLi8uLi9jb250ZXh0L1Byb2dyZXNzXCI7XG5pbXBvcnQgU3RvcnkgZnJvbSBcIi4vU3RvcnlcIjtcbmltcG9ydCBQcm9ncmVzc0FycmF5IGZyb20gXCIuL1Byb2dyZXNzQXJyYXlcIjtcbmltcG9ydCB7IEdsb2JhbEN0eCB9IGZyb20gXCIuLy4uL2ludGVyZmFjZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIGNvbnN0IFtjdXJyZW50SWQsIHNldEN1cnJlbnRJZF0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbcGF1c2UsIHNldFBhdXNlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xuICBjb25zdCBbY291bnQsIHNldENvdW50XSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtidWZmZXJBY3Rpb24sIHNldEJ1ZmZlckFjdGlvbl0gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcbiAgY29uc3QgW3ZpZGVvRHVyYXRpb24sIHNldFZpZGVvRHVyYXRpb25dID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcblxuICBsZXQgbW91c2Vkb3duSWQgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQ+KCk7XG4gIGxldCBhbmltYXRpb25GcmFtZUlkID0gdXNlUmVmPG51bWJlcj4oKTtcblxuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIGRlZmF1bHRJbnRlcnZhbCxcbiAgICBzdG9yaWVzLFxuICAgIGxvb3AsXG4gICAgY3VycmVudEluZGV4LFxuICAgIGlzUGF1c2VkLFxuICAgIG9uU3RvcnlTdGFydCxcbiAgICBvblN0b3J5RW5kLFxuICAgIG9uQWxsU3Rvcmllc0VuZFxuICB9ID0gdXNlQ29udGV4dDxHbG9iYWxDdHg+KEdsb2JhbENvbnRleHQpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFwYXVzZSkge1xuICAgICAgYW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGluY3JlbWVudENvdW50KTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW2N1cnJlbnRJZCwgcGF1c2VdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldENvdW50KDApO1xuICB9LCBbY3VycmVudElkLCBzdG9yaWVzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGN1cnJlbnRJbmRleCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgaWYgKGN1cnJlbnRJbmRleCA+PSAwICYmIGN1cnJlbnRJbmRleCA8IHN0b3JpZXMubGVuZ3RoKSB7XG4gICAgICAgIHNldEN1cnJlbnRJZChjdXJyZW50SW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkluZGV4IG91dCBvZiBib3VuZHMuIEN1cnJlbnQgaW5kZXggd2FzIHNldCB0byB2YWx1ZSBtb3JlIHRoYW4gdGhlIGxlbmd0aCBvZiBzdG9yaWVzIGFycmF5LlwiLFxuICAgICAgICAgIGN1cnJlbnRJbmRleFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2N1cnJlbnRJbmRleF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpc1BhdXNlZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHNldFBhdXNlKGlzUGF1c2VkKTtcbiAgICB9XG4gIH0sIFtpc1BhdXNlZF0pO1xuXG4gIGNvbnN0IGluY3JlbWVudENvdW50ID0gKCkgPT4ge1xuICAgIHNldENvdW50KChjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoY291bnQgPT09IDApIHN0b3J5U3RhcnRDYWxsYmFjaygpO1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBnZXRDdXJyZW50SW50ZXJ2YWwoKTtcbiAgICAgIGlmIChjb3VudCA8IDEwMCkge1xuICAgICAgICBhbmltYXRpb25GcmFtZUlkLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5jcmVtZW50Q291bnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGN1cnJlbnRJZCA9PT0gc3Rvcmllcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgYWxsU3Rvcmllc0VuZENhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvdW50ICsgMTAwIC8gKChpbnRlcnZhbCAvIDEwMDApICogNjApO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHN0b3J5U3RhcnRDYWxsYmFjayA9ICgpID0+IHtcbiAgICBvblN0b3J5U3RhcnQgJiYgb25TdG9yeVN0YXJ0KGN1cnJlbnRJZCwgc3Rvcmllc1tjdXJyZW50SWRdKTtcbiAgfTtcblxuICBjb25zdCBzdG9yeUVuZENhbGxiYWNrID0gKCkgPT4ge1xuICAgIHJldHVybiBvblN0b3J5RW5kXG4gICAgICA/IG9uU3RvcnlFbmQoY3VycmVudElkLCBpc1BhdXNlZCwgc3Rvcmllc1tjdXJyZW50SWRdKVxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBhbGxTdG9yaWVzRW5kQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgb25BbGxTdG9yaWVzRW5kICYmIG9uQWxsU3Rvcmllc0VuZCgpO1xuICB9O1xuXG4gIGNvbnN0IGdldEN1cnJlbnRJbnRlcnZhbCA9ICgpID0+IHtcbiAgICBpZiAoc3Rvcmllc1tjdXJyZW50SWRdLnR5cGUgPT09IFwidmlkZW9cIikgcmV0dXJuIHZpZGVvRHVyYXRpb247XG4gICAgaWYgKHR5cGVvZiBzdG9yaWVzW2N1cnJlbnRJZF0uZHVyYXRpb24gPT09IFwibnVtYmVyXCIpXG4gICAgICByZXR1cm4gc3Rvcmllc1tjdXJyZW50SWRdLmR1cmF0aW9uO1xuICAgIHJldHVybiBkZWZhdWx0SW50ZXJ2YWw7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlU3RhdGUgPSAoYWN0aW9uOiBzdHJpbmcsIGJ1ZmZlckFjdGlvbj86IGJvb2xlYW4pID0+IHtcbiAgICBzZXRQYXVzZShhY3Rpb24gPT09IFwicGF1c2VcIik7XG4gICAgc2V0QnVmZmVyQWN0aW9uKCEhYnVmZmVyQWN0aW9uKTtcbiAgfTtcblxuICBjb25zdCBwcmV2aW91cyA9ICgpID0+IHtcbiAgICBpZiAoY3VycmVudElkID4gMCkge1xuICAgICAgc2V0Q3VycmVudElkKGN1cnJlbnRJZCAtIDEpO1xuICAgICAgc2V0Q291bnQoMCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG5leHQgPSAoKSA9PiB7XG4gICAgbGV0IGNhbGxiYWNrT3ZlcnJpZGUgPSBzdG9yeUVuZENhbGxiYWNrKCk7XG4gICAgY29uc29sZS5sb2coeyBjYWxsYmFja092ZXJyaWRlIH0sIHsgY3VycmVudElkIH0pO1xuICAgIGlmIChjYWxsYmFja092ZXJyaWRlKSB7XG4gICAgICBzZXRDdXJyZW50SWQoY2FsbGJhY2tPdmVycmlkZSk7XG4gICAgICBzZXRDb3VudCgwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobG9vcCkge1xuICAgICAgdXBkYXRlTmV4dFN0b3J5SWRGb3JMb29wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZU5leHRTdG9yeUlkKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZU5leHRTdG9yeUlkRm9yTG9vcCA9ICgpID0+IHtcbiAgICBzZXRDdXJyZW50SWQoKGN1cnJlbnRJZCArIDEpICUgc3Rvcmllcy5sZW5ndGgpO1xuICAgIHNldENvdW50KDApO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZU5leHRTdG9yeUlkID0gKCkgPT4ge1xuICAgIGlmIChjdXJyZW50SWQgPCBzdG9yaWVzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHNldEN1cnJlbnRJZChjdXJyZW50SWQgKyAxKTtcbiAgICAgIHNldENvdW50KDApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkZWJvdW5jZVBhdXNlID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQgfCBSZWFjdC5Ub3VjaEV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1vdXNlZG93bklkLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRvZ2dsZVN0YXRlKFwicGF1c2VcIik7XG4gICAgfSwgMjAwKTtcbiAgfTtcblxuICBjb25zdCBtb3VzZVVwID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQgfCBSZWFjdC5Ub3VjaEV2ZW50LCB0eXBlOiBzdHJpbmcpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbW91c2Vkb3duSWQuY3VycmVudCAmJiBjbGVhclRpbWVvdXQobW91c2Vkb3duSWQuY3VycmVudCk7XG4gICAgaWYgKHBhdXNlKSB7XG4gICAgICB0b2dnbGVTdGF0ZShcInBsYXlcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPT09IFwibmV4dFwiID8gbmV4dCgpIDogcHJldmlvdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0VmlkZW9EdXJhdGlvbiA9IChkdXJhdGlvbjogbnVtYmVyKSA9PiB7XG4gICAgc2V0VmlkZW9EdXJhdGlvbihkdXJhdGlvbiAqIDEwMDApO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17eyAuLi5zdHlsZXMuY29udGFpbmVyLCAuLi57IHdpZHRoLCBoZWlnaHQgfSB9fT5cbiAgICAgIDxQcm9ncmVzc0NvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICBidWZmZXJBY3Rpb246IGJ1ZmZlckFjdGlvbixcbiAgICAgICAgICB2aWRlb0R1cmF0aW9uOiB2aWRlb0R1cmF0aW9uLFxuICAgICAgICAgIG51bUFycmF5OiBzdG9yaWVzLm1hcCgoXywgaSkgPT4gaSksXG4gICAgICAgICAgY3VycmVudFN0b3J5OiBzdG9yaWVzW2N1cnJlbnRJZF0sXG4gICAgICAgICAgY3VycmVudElkLFxuICAgICAgICAgIGNvdW50LFxuICAgICAgICAgIHBhdXNlXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxQcm9ncmVzc0FycmF5IC8+XG4gICAgICA8L1Byb2dyZXNzQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgIDxTdG9yeVxuICAgICAgICBhY3Rpb249e3RvZ2dsZVN0YXRlfVxuICAgICAgICBidWZmZXJBY3Rpb249e2J1ZmZlckFjdGlvbn1cbiAgICAgICAgcGxheVN0YXRlPXtwYXVzZX1cbiAgICAgICAgc3Rvcnk9e3N0b3JpZXNbY3VycmVudElkXX1cbiAgICAgICAgZ2V0VmlkZW9EdXJhdGlvbj17Z2V0VmlkZW9EdXJhdGlvbn1cbiAgICAgIC8+XG4gICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMub3ZlcmxheX0+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17eyB3aWR0aDogXCI1MCVcIiwgekluZGV4OiA5OTkgfX1cbiAgICAgICAgICBvblRvdWNoU3RhcnQ9e2RlYm91bmNlUGF1c2V9XG4gICAgICAgICAgb25Ub3VjaEVuZD17ZSA9PiBtb3VzZVVwKGUsIFwicHJldmlvdXNcIil9XG4gICAgICAgICAgb25Nb3VzZURvd249e2RlYm91bmNlUGF1c2V9XG4gICAgICAgICAgb25Nb3VzZVVwPXtlID0+IG1vdXNlVXAoZSwgXCJwcmV2aW91c1wiKX1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBcIjUwJVwiLCB6SW5kZXg6IDk5OSB9fVxuICAgICAgICAgIG9uVG91Y2hTdGFydD17ZGVib3VuY2VQYXVzZX1cbiAgICAgICAgICBvblRvdWNoRW5kPXtlID0+IG1vdXNlVXAoZSwgXCJuZXh0XCIpfVxuICAgICAgICAgIG9uTW91c2VEb3duPXtkZWJvdW5jZVBhdXNlfVxuICAgICAgICAgIG9uTW91c2VVcD17ZSA9PiBtb3VzZVVwKGUsIFwibmV4dFwiKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5jb25zdCBzdHlsZXMgPSB7XG4gIGNvbnRhaW5lcjoge1xuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgYmFja2dyb3VuZDogXCIjMTExXCIsXG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICB9LFxuICBvdmVybGF5OiB7XG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICBoZWlnaHQ6IFwiaW5oZXJpdFwiLFxuICAgIHdpZHRoOiBcImluaGVyaXRcIixcbiAgICBkaXNwbGF5OiBcImZsZXhcIlxuICB9XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3RvcnlQcm9wcywgR2xvYmFsQ3R4IH0gZnJvbSBcIi4vLi4vaW50ZXJmYWNlc1wiO1xuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9IZWFkZXJcIjtcbmltcG9ydCBTZWVNb3JlIGZyb20gXCIuL1NlZU1vcmVcIjtcbmltcG9ydCBnbG9iYWxTdHlsZSBmcm9tICcuLy4uL3N0eWxlcy5jc3MnXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tIFwiLi8uLi9jb250ZXh0L0dsb2JhbFwiO1xuXG5jb25zdCBTdG9yeSA9IChwcm9wczogU3RvcnlQcm9wcykgPT4ge1xuXHRjb25zdCBbbG9hZGVkLCBzZXRMb2FkZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXHRjb25zdCBbc2hvd01vcmUsIHNldFNob3dNb3JlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcblxuXHRjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxvYWRlciwgaGVhZGVyLCBzdG9yeVN0eWxlcyB9ID0gdXNlQ29udGV4dDxHbG9iYWxDdHg+KFxuXHRcdEdsb2JhbENvbnRleHRcblx0KTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdHNldFNob3dNb3JlKGZhbHNlKVxuXHRcdGlmICh0eXBlb2YgcHJvcHMuc3RvcnkgPT09ICdvYmplY3QnICYmIHByb3BzLnN0b3J5LmNvbnRlbnQpIHtcblx0XHRcdHNldExvYWRlZCh0cnVlKVxuXHRcdFx0cHJvcHMuYWN0aW9uKCdwbGF5JywgdHJ1ZSlcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2V0TG9hZGVkKGZhbHNlKVxuXHRcdFx0cHJvcHMuYWN0aW9uKFwicGF1c2VcIiwgdHJ1ZSk7XG5cdFx0XHR2aWQuY3VycmVudCAmJlxuXHRcdFx0XHR2aWQuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKFwid2FpdGluZ1wiLCAoKSA9PiB7XG5cdFx0XHRcdFx0cHJvcHMuYWN0aW9uKFwicGF1c2VcIiwgdHJ1ZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0dmlkLmN1cnJlbnQgJiZcblx0XHRcdFx0dmlkLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIiwgKCkgPT4ge1xuXHRcdFx0XHRcdHByb3BzLmFjdGlvbihcInBsYXlcIiwgdHJ1ZSk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblx0fSwgW3Byb3BzLnN0b3J5XSk7XG5cblx0bGV0IHZpZCA9IHVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmICh2aWQuY3VycmVudCkge1xuXHRcdFx0aWYgKHByb3BzLnBsYXlTdGF0ZSkge1xuXHRcdFx0XHR2aWQuY3VycmVudC5wYXVzZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmlkLmN1cnJlbnQucGxheSgpLmNhdGNoKGUgPT4gY29uc29sZS5sb2coZSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwgW3Byb3BzLnBsYXlTdGF0ZV0pO1xuXG5cdGNvbnN0IHRvZ2dsZU1vcmUgPSAoc2hvdzogYm9vbGVhbikgPT4ge1xuXHRcdHNldFNob3dNb3JlKHNob3cpXG5cdFx0cHJvcHMuYWN0aW9uKHNob3cgPyAncGF1c2UnIDogJ3BsYXknKVxuXHR9O1xuXG5cdGNvbnN0IGltYWdlTG9hZGVkID0gKCkgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRzZXRMb2FkZWQodHJ1ZSk7XG5cdFx0XHRwcm9wcy5hY3Rpb24oXCJwbGF5XCIsIHRydWUpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNvbnNvbGUubG9nKGUpO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCB2aWRlb0xvYWRlZCA9ICgpID0+IHtcblx0XHR0cnkge1xuXHRcdFx0cHJvcHMuZ2V0VmlkZW9EdXJhdGlvbih2aWQuY3VycmVudC5kdXJhdGlvbik7XG5cdFx0XHR2aWQuY3VycmVudCAmJlxuXHRcdFx0XHR2aWQuY3VycmVudFxuXHRcdFx0XHRcdC5wbGF5KClcblx0XHRcdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0XHRpbWFnZUxvYWRlZCgpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LmNhdGNoKGUgPT4ge1xuXHRcdFx0XHRcdFx0cHJvcHMuYWN0aW9uKFwicGF1c2VcIik7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHRcdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgZ2V0U3RvcnlDb250ZW50ID0gKCkgPT4ge1xuXHRcdGxldCBJbm5lckNvbnRlbnQgPSB0eXBlb2YgcHJvcHMuc3RvcnkgPT09IFwib2JqZWN0XCIgJiYgcHJvcHMuc3RvcnkuY29udGVudFxuXHRcdGlmIChJbm5lckNvbnRlbnQpIHtcblx0XHRcdHJldHVybiA8SW5uZXJDb250ZW50IGFjdGlvbj17cHJvcHMuYWN0aW9ufSBpc1BhdXNlZD17cHJvcHMucGxheVN0YXRlfSAvPlxuXHRcdH0gZWxzZSB7XG5cdFx0XHRsZXQgc291cmNlID1cblx0XHRcdFx0dHlwZW9mIHByb3BzLnN0b3J5ID09PSBcIm9iamVjdFwiID8gcHJvcHMuc3RvcnkudXJsIDogcHJvcHMuc3Rvcnk7XG5cdFx0XHRsZXQgc3RvcnlDb250ZW50U3R5bGVzID1cblx0XHRcdFx0KHR5cGVvZiBwcm9wcy5zdG9yeSA9PT0gXCJvYmplY3RcIiAmJiBwcm9wcy5zdG9yeS5zdHlsZXMpIHx8XG5cdFx0XHRcdHN0b3J5U3R5bGVzIHx8XG5cdFx0XHRcdHN0eWxlcy5zdG9yeUNvbnRlbnQ7XG5cdFx0XHRsZXQgdHlwZSA9XG5cdFx0XHRcdHR5cGVvZiBwcm9wcy5zdG9yeSA9PT0gXCJvYmplY3RcIiAmJiBwcm9wcy5zdG9yeS50eXBlID09PSBcInZpZGVvXCJcblx0XHRcdFx0XHQ/IFwidmlkZW9cIlxuXHRcdFx0XHRcdDogXCJpbWFnZVwiO1xuXHRcdFx0cmV0dXJuIHR5cGUgPT09IFwiaW1hZ2VcIiA/IChcblx0XHRcdFx0PGltZyBzdHlsZT17c3RvcnlDb250ZW50U3R5bGVzfSBzcmM9e3NvdXJjZX0gb25Mb2FkPXtpbWFnZUxvYWRlZH0gLz5cblx0XHRcdCkgOiB0eXBlID09PSBcInZpZGVvXCIgPyAoXG5cdFx0XHRcdDx2aWRlb1xuXHRcdFx0XHRcdHByZWxvYWQ9J2F1dG8nXG5cdFx0XHRcdFx0cmVmPXt2aWR9XG5cdFx0XHRcdFx0c3R5bGU9e3N0b3J5Q29udGVudFN0eWxlc31cblx0XHRcdFx0XHRzcmM9e3NvdXJjZX1cblx0XHRcdFx0XHRjb250cm9scz17ZmFsc2V9XG5cdFx0XHRcdFx0b25Mb2FkZWREYXRhPXt2aWRlb0xvYWRlZH1cblx0XHRcdFx0XHRhdXRvUGxheVxuXHRcdFx0XHRcdHBsYXlzSW5saW5lXG5cdFx0XHRcdC8+XG5cdFx0XHQpIDogbnVsbDtcblx0XHR9XG5cdH07XG5cblx0bGV0IGlzSGVhZGVyID0gdHlwZW9mIHByb3BzLnN0b3J5ID09PSBcIm9iamVjdFwiICYmIHByb3BzLnN0b3J5LmhlYWRlcjtcblx0cmV0dXJuIChcblx0XHQ8ZGl2IHN0eWxlPXt7IC4uLnN0eWxlcy5zdG9yeSwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9fT5cblx0XHRcdHtnZXRTdG9yeUNvbnRlbnQoKX1cblx0XHRcdHtpc0hlYWRlciAmJiAoXG5cdFx0XHRcdDxkaXYgc3R5bGU9e3sgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgbGVmdDogMTIsIHRvcDogMjAsIHpJbmRleDogMTkgfX0+XG5cdFx0XHRcdFx0e3R5cGVvZiBwcm9wcy5zdG9yeSA9PT0gXCJvYmplY3RcIiA/IChcblx0XHRcdFx0XHRcdGhlYWRlciA/IChcblx0XHRcdFx0XHRcdFx0aGVhZGVyKHByb3BzLnN0b3J5LmhlYWRlcilcblx0XHRcdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0XHRcdFx0PEhlYWRlclxuXHRcdFx0XHRcdFx0XHRcdFx0aGVhZGluZz17cHJvcHMuc3RvcnkuaGVhZGVyLmhlYWRpbmd9XG5cdFx0XHRcdFx0XHRcdFx0XHRzdWJoZWFkaW5nPXtwcm9wcy5zdG9yeS5oZWFkZXIuc3ViaGVhZGluZ31cblx0XHRcdFx0XHRcdFx0XHRcdHByb2ZpbGVJbWFnZT17cHJvcHMuc3RvcnkuaGVhZGVyLnByb2ZpbGVJbWFnZX1cblx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KSA6IG51bGx9XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0KX1cblx0XHRcdHshbG9hZGVkICYmIChcblx0XHRcdFx0PGRpdlxuXHRcdFx0XHRcdHN0eWxlPXt7XG5cdFx0XHRcdFx0XHR3aWR0aDogd2lkdGgsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IGhlaWdodCxcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdFx0YmFja2dyb3VuZDogXCJyZ2JhKDAsIDAsIDAsIDAuOSlcIixcblx0XHRcdFx0XHRcdHpJbmRleDogOSxcblx0XHRcdFx0XHRcdGRpc3BsYXk6IFwiZmxleFwiLFxuXHRcdFx0XHRcdFx0anVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG5cdFx0XHRcdFx0XHRhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuXHRcdFx0XHRcdFx0Y29sb3I6IFwiI2NjY1wiXG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0PlxuXHRcdFx0XHRcdHtsb2FkZXIgfHwgPGRpdiBjbGFzc05hbWU9e2dsb2JhbFN0eWxlLnNwaW5uZXJ9IC8+fVxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdCl9XG5cdFx0XHR7dHlwZW9mIHByb3BzLnN0b3J5ID09PSBcIm9iamVjdFwiICYmIHByb3BzLnN0b3J5LnNlZU1vcmUgJiYgKFxuXHRcdFx0XHQ8ZGl2XG5cdFx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0XHRtYXJnaW46IFwiYXV0b1wiLFxuXHRcdFx0XHRcdFx0Ym90dG9tOiBzaG93TW9yZSA/ICd1bnNldCcgOiAwLFxuXHRcdFx0XHRcdFx0ekluZGV4OiA5OTk5LFxuXHRcdFx0XHRcdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0aGVpZ2h0OiBzaG93TW9yZSA/ICcxMDAlJyA6ICdhdXRvJ1xuXHRcdFx0XHRcdH19XG5cdFx0XHRcdD5cblx0XHRcdFx0XHQ8U2VlTW9yZVxuXHRcdFx0XHRcdFx0YWN0aW9uPXtwcm9wcy5hY3Rpb259XG5cdFx0XHRcdFx0XHR0b2dnbGVNb3JlPXt0b2dnbGVNb3JlfVxuXHRcdFx0XHRcdFx0c2hvd0NvbnRlbnQ9e3Nob3dNb3JlfVxuXHRcdFx0XHRcdFx0c2VlTW9yZUNvbnRlbnQ9e3Byb3BzLnN0b3J5LnNlZU1vcmV9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQpfVxuXHRcdDwvZGl2PlxuXHQpO1xufTtcblxuY29uc3Qgc3R5bGVzID0ge1xuXHRzdG9yeToge1xuXHRcdGRpc3BsYXk6IFwiZmxleFwiLFxuXHRcdHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG5cdFx0b3ZlcmZsb3c6IFwiaGlkZGVuXCJcblx0fSxcblx0c3RvcnlDb250ZW50OiB7XG5cdFx0d2lkdGg6IFwiYXV0b1wiLFxuXHRcdG1heFdpZHRoOiBcIjEwMCVcIixcblx0XHRtYXhIZWlnaHQ6IFwiMTAwJVwiLFxuXHRcdG1hcmdpbjogXCJhdXRvXCJcblx0fVxufTtcblxuZXhwb3J0IGRlZmF1bHQgU3Rvcnk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBIZWFkZXJQcm9wcyB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcblxuY29uc3QgSGVhZGVyID0gKHsgcHJvZmlsZUltYWdlLCBoZWFkaW5nLCBzdWJoZWFkaW5nIH06IEhlYWRlclByb3BzKSA9PlxuICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5tYWlufT5cbiAgICAgICAge3Byb2ZpbGVJbWFnZSAmJiA8aW1nIHN0eWxlPXtzdHlsZXMuaW1nfSBzcmM9e3Byb2ZpbGVJbWFnZX0gLz59XG4gICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMudGV4dH0+XG4gICAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLmhlYWRpbmd9PntoZWFkaW5nfTwvcD5cbiAgICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuc3ViaGVhZGluZ30+e3N1YmhlYWRpbmd9PC9wPlxuICAgICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBtYWluOiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICB9LFxuICAgIGltZzoge1xuICAgICAgICB3aWR0aDogNDAsXG4gICAgICAgIGhlaWdodDogNDAsXG4gICAgICAgIGJvcmRlclJhZGl1czogNDAsXG4gICAgICAgIG1hcmdpblJpZ2h0OiAxMCxcbiAgICAgICAgZmlsdGVyOiAnZHJvcC1zaGFkb3coMCAwcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KSknLFxuICAgICAgICBib3JkZXI6ICcycHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpJ1xuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICBmaWx0ZXI6ICdkcm9wLXNoYWRvdygwIDBweCAzcHggcmdiYSgwLCAwLCAwLCAwLjkpKSdcbiAgICB9LFxuICAgIGhlYWRpbmc6IHtcbiAgICAgICAgZm9udFNpemU6ICcxcmVtJyxcbiAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknLFxuICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMlxuICAgIH0sXG4gICAgc3ViaGVhZGluZzoge1xuICAgICAgICBmb250U2l6ZTogJzAuNnJlbScsXG4gICAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpJyxcbiAgICAgICAgbWFyZ2luOiAwXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXIiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBTZWVNb3JlUHJvcHMgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXG4vLyBpbXBvcnQgdXAgZnJvbSAnLi8uLi91cC5wbmcnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlZU1vcmUocHJvcHM6IFNlZU1vcmVQcm9wcykge1xuICAgIGNvbnN0IFNlZU1vcmVDb250ZW50ID0gcHJvcHMuc2VlTW9yZUNvbnRlbnRcbiAgICByZXR1cm4gKFxuICAgICAgICBwcm9wcy5zaG93Q29udGVudFxuICAgICAgICAgICAgPyA8ZGl2IHN0eWxlPXtzdHlsZXMuc2VlTW9yZUV4cGFuZGVkfT5cbiAgICAgICAgICAgICAgICA8U2VlTW9yZUNvbnRlbnQgY2xvc2U9eygpID0+IHByb3BzLnRvZ2dsZU1vcmUoZmFsc2UpfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA6IDxkaXYgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHByb3BzLnRvZ2dsZU1vcmUodHJ1ZSlcbiAgICAgICAgICAgIH19IHN0eWxlPXtzdHlsZXMuc2VlTW9yZX0+XG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3N0eWxlcy5zZWVNb3JlSWNvbn0+4oyDPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMuc2VlTW9yZVRleHR9PlNlZSBtb3JlPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuXG5jb25zdCBzdHlsZXM6IGFueSA9IHtcbiAgICBzZWVNb3JlOiB7XG4gICAgICAgIGhlaWdodDogXCIxMHZoXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwibGluZWFyLWdyYWRpZW50KHJnYmEoMCwgMCwgMCwgMCksIHJnYmEoMCwgMCwgMCwgMC4yKSlcIixcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIixcbiAgICAgICAgYm90dG9tOiAwXG4gICAgfSxcbiAgICBzZWVNb3JlRXhwYW5kZWQ6IHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgICB6SW5kZXg6IDk5OTk5XG4gICAgfSxcbiAgICBzZWVNb3JlVGV4dDoge1xuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IFwiMC4xZW1cIixcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjIuMnZoXCIsXG4gICAgICAgIHRleHRUcmFuc2Zvcm06IFwiY2FwaXRhbGl6ZVwiLFxuICAgICAgICBvcGFjaXR5OiBcIjFcIixcbiAgICAgICAgZm9udFNpemU6IFwiMC44ZW1cIixcbiAgICAgICAgdHJhbnNpdGlvbjogXCJvcGFjaXR5IDMwMG1zIGVhc2UtaW4tb3V0XCJcbiAgICB9LFxuICAgIHNlZU1vcmVJY29uOiB7XG4gICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgbGV0dGVyU3BhY2luZzogXCIwLjJlbVwiLFxuICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC40dmhcIixcbiAgICAgICAgb3BhY2l0eTogXCIxXCIsXG4gICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwIDAgNXB4IGJsYWNrKVwiLFxuICAgICAgICB0ZXh0VHJhbnNmb3JtOiBcImNhcGl0YWxpemVcIixcbiAgICAgICAgdHJhbnNpdGlvbjogXCJvcGFjaXR5IDMwMG1zIGVhc2UtaW4tb3V0XCJcbiAgICB9LFxuICAgIHNlZU1vcmVDbG9zZToge1xuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMCAzcHggMnB4ICNjY2MpXCIsXG4gICAgICAgIHJpZ2h0OiBcIjAuNXJlbVwiLFxuICAgICAgICB0b3A6IFwiMC41cmVtXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjEuNXJlbVwiLFxuICAgICAgICBvcGFjaXR5OiBcIjAuN1wiLFxuICAgICAgICBwYWRkaW5nOiBcIjFyZW1cIlxuICAgIH1cbn0iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9AdGVhbXN1cGVyY2VsbC90eXBpbmdzLWZvci1jc3MtbW9kdWxlcy1sb2FkZXIvc3JjL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTUtMiEuL3N0eWxlcy5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fMUNLN0ZIVndoaU9udUNpWkp3aVBxMSB7XFxuXFx0d2lkdGg6IDQwcHg7XFxuXFx0aGVpZ2h0OiA0MHB4O1xcblxcdG1hcmdpbjogMTAwcHggYXV0bztcXG5cXHRiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcblxcblxcdGJvcmRlci1yYWRpdXM6IDEwMCU7XFxuXFx0LXdlYmtpdC1hbmltYXRpb246IF8xaEVRMlZ6SWtUaVotOWpab0xJM0pDIDFzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xcblxcdGFuaW1hdGlvbjogXzFoRVEyVnpJa1RpWi05alpvTEkzSkMgMXMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7XFxufVxcblxcbkAtd2Via2l0LWtleWZyYW1lcyBfMWhFUTJWeklrVGlaLTlqWm9MSTNKQyB7XFxuXFx0MCUge1xcblxcdFxcdC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwKTtcXG5cXHR9XFxuXFx0MTAwJSB7XFxuXFx0XFx0LXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEpO1xcblxcdFxcdG9wYWNpdHk6IDA7XFxuXFx0fVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIF8xaEVRMlZ6SWtUaVotOWpab0xJM0pDIHtcXG5cXHQwJSB7XFxuXFx0XFx0LXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDApO1xcblxcdFxcdHRyYW5zZm9ybTogc2NhbGUoMCk7XFxuXFx0fVxcblxcdDEwMCUge1xcblxcdFxcdC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxKTtcXG5cXHRcXHR0cmFuc2Zvcm06IHNjYWxlKDEpO1xcblxcdFxcdG9wYWNpdHk6IDA7XFxuXFx0fVxcbn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0cy5sb2NhbHMgPSB7XG5cdFwic3Bpbm5lclwiOiBcIl8xQ0s3RkhWd2hpT251Q2laSndpUHExXCIsXG5cdFwic2stc2NhbGVvdXRcIjogXCJfMWhFUTJWeklrVGlaLTlqWm9MSTNKQ1wiXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9ncmVzcyBmcm9tICcuL1Byb2dyZXNzJ1xuaW1wb3J0IHsgUHJvZ3Jlc3NDb250ZXh0IH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IFByb2dyZXNzQ3R4IGZyb20gJy4vLi4vY29udGV4dC9Qcm9ncmVzcydcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAgIGNvbnN0IHsgbnVtQXJyYXksIGN1cnJlbnRJZCB9ID0gdXNlQ29udGV4dDxQcm9ncmVzc0NvbnRleHQ+KFByb2dyZXNzQ3R4KVxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5wcm9ncmVzc0Fycn0+XG4gICAgICAgICAgICB7bnVtQXJyYXkubWFwKGkgPT5cbiAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgICAgICB3aWR0aD17MSAvIG51bUFycmF5Lmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlPXtpID09PSBjdXJyZW50SWQgPyAxIDogKGkgPCBjdXJyZW50SWQgPyAyIDogMCl9XG4gICAgICAgICAgICAgICAgLz4pfVxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBwcm9ncmVzc0Fycjoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgICAgZmxleFdyYXA6ICdyb3cnLFxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgd2lkdGg6ICc5OCUnLFxuICAgICAgICBwYWRkaW5nOiA1LFxuICAgICAgICBwYWRkaW5nVG9wOiA3LFxuICAgICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICAgICAgICB6SW5kZXg6IDk5LFxuICAgICAgICBmaWx0ZXI6ICdkcm9wLXNoYWRvdygwIDFweCA4cHggIzIyMiknXG4gICAgfVxufSIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm9ncmVzc1Byb3BzLCBQcm9ncmVzc0NvbnRleHQgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXG5pbXBvcnQgUHJvZ3Jlc3NXcmFwcGVyIGZyb20gJy4vUHJvZ3Jlc3NXcmFwcGVyJ1xuaW1wb3J0IFByb2dyZXNzQ3R4IGZyb20gJy4vLi4vY29udGV4dC9Qcm9ncmVzcydcblxuZXhwb3J0IGRlZmF1bHQgKHByb3BzOiBQcm9ncmVzc1Byb3BzKSA9PiB7XG4gICAgY29uc3QgeyBidWZmZXJBY3Rpb24sIGNvdW50LCBwYXVzZSB9ID0gdXNlQ29udGV4dDxQcm9ncmVzc0NvbnRleHQ+KFByb2dyZXNzQ3R4KVxuXG4gICAgY29uc3QgZ2V0UHJvZ3Jlc3NTdHlsZSA9ICh7IGFjdGl2ZSB9KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoYWN0aXZlKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6ICcxMDAlJyB9XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHJhbnNmb3JtOiBgc2NhbGVYKCR7Y291bnQgLyAxMDB9KWAgfVxuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHdpZHRoOiAwIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IDAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyB3aWR0aCwgYWN0aXZlIH0gPSBwcm9wc1xuICAgIHJldHVybiAoXG4gICAgICAgIDxQcm9ncmVzc1dyYXBwZXIgd2lkdGg9e3dpZHRofSBwYXVzZT17cGF1c2V9IGJ1ZmZlckFjdGlvbj17YnVmZmVyQWN0aW9ufT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17eyAuLi5nZXRQcm9ncmVzc1N0eWxlKHsgYWN0aXZlIH0pLCAuLi5zdHlsZXMuaW5uZXIgfX0gLz5cbiAgICAgICAgPC9Qcm9ncmVzc1dyYXBwZXI+XG4gICAgKVxufVxuXG5jb25zdCBzdHlsZXM6IGFueSA9IHtcbiAgICBpbm5lcjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgICBib3JkZXJSYWRpdXM6IDIsXG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2NlbnRlciBsZWZ0JyxcblxuICAgICAgICBXZWJraXRCYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgICAgICBNb3pCYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgICAgICBtc0JhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgIGJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXG5cbiAgICAgICAgV2Via2l0UGVyc3BlY3RpdmU6IDEwMDAsXG4gICAgICAgIE1velBlcnNwZWN0aXZlOiAxMDAwLFxuICAgICAgICBtc1BlcnNwZWN0aXZlOiAxMDAwLFxuICAgICAgICBwZXJzcGVjdGl2ZTogMTAwMFxuICAgIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm9ncmVzc1dyYXBwZXJQcm9wcyB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcblxuY29uc3QgUHJvZ3Jlc3NXcmFwcGVyID0gKHByb3BzOiBQcm9ncmVzc1dyYXBwZXJQcm9wcykgPT4gKFxuICAgIDxkaXYgc3R5bGU9e3sgLi4uc3R5bGVzLnByb2dyZXNzLCAuLi5nZXRQcm9ncmVzc1dyYXBwZXJTdHlsZShwcm9wcykgfX0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICA8L2Rpdj5cbilcblxuY29uc3QgZ2V0UHJvZ3Jlc3NXcmFwcGVyU3R5bGUgPSAoeyB3aWR0aCwgcGF1c2UsIGJ1ZmZlckFjdGlvbiB9KSA9PiAoe1xuICAgIHdpZHRoOiBgJHt3aWR0aCAqIDEwMH0lYCxcbiAgICBvcGFjaXR5OiBwYXVzZSAmJiAhYnVmZmVyQWN0aW9uID8gMCA6IDFcbn0pXG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBwcm9ncmVzczoge1xuICAgICAgICBoZWlnaHQ6IDIsXG4gICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgIGJhY2tncm91bmQ6ICcjNTU1JyxcbiAgICAgICAgbWFyZ2luOiAyLFxuICAgICAgICBib3JkZXJSYWRpdXM6IDIsXG4gICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDQwMG1zIGVhc2UtaW4tb3V0J1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvZ3Jlc3NXcmFwcGVyIl0sInNvdXJjZVJvb3QiOiIifQ==